# üè¶ –ú–û–î–£–õ–¨ –ë–ê–ù–ö–ê

–ú–æ–¥—É–ª—å –±–∞–Ω–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –ª–æ–≥–∏–∫—É, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –±–∞–Ω–∫–æ–≤—Å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, –±–∞–ª–∞–Ω—Å–æ–º –∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ú–û–î–£–õ–Ø

```
bank-module/
‚îú‚îÄ‚îÄ bank.js      # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –º–æ–¥—É–ª—è
‚îú‚îÄ‚îÄ bank.css     # –°—Ç–∏–ª–∏ –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ bank.html    # HTML —Ä–∞–∑–º–µ—Ç–∫–∞ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
‚îî‚îÄ‚îÄ README.md    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è
```

## üéØ –ü–†–ò–ù–¶–ò–ü–´ –†–ê–ë–û–¢–´

### 1. **–õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞**
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ª–æ–∫–∞–ª—å–Ω–æ
- UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫

### 2. **–£–º–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º**
- –î–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–±—Ä–æ—Å–∞ –±–∞–ª–∞–Ω—Å–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### 3. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**
- –í—Å—è –±–∞–Ω–∫–æ–≤—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –º–æ–¥—É–ª–µ
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

## üîß –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è:
```javascript
// –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –º–æ–¥—É–ª—è
const bankModule = new BankModule();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ–¥—É–ª—å
await bankModule.init();
```

### –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞:
```javascript
// –°–ø–∏—Å–∞–Ω–∏–µ 100$ –∑–∞ –ø–æ–∫—É–ø–∫—É
bankModule.updateLocalBalance(-100, '–°–ø–∏—Å–∞–Ω–∏–µ –∑–∞ –ø–æ–∫—É–ø–∫—É');

// –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ 500$ –∑–∞ –≤—ã–∏–≥—Ä—ã—à
bankModule.updateLocalBalance(500, '–í—ã–∏–≥—Ä—ã—à –≤ –ª–æ—Ç–µ—Ä–µ–µ');

// –ö–æ–º–∏—Å—Å–∏—è –±–∞–Ω–∫–∞
bankModule.updateLocalBalance(-50, '–ö–æ–º–∏—Å—Å–∏—è –±–∞–Ω–∫–∞');
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º:
```javascript
// –û–±—ã—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (—Å –∑–∞—â–∏—Ç–æ–π)
await bankModule.loadFromServer();

// –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
await bankModule.loadFromServer(true);

// –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
await bankModule.syncWithServer();
```

## üìä –û–°–ù–û–í–ù–´–ï –ú–ï–¢–û–î–´

### `updateLocalBalance(amount, description)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –õ–æ–∫–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `amount` (number) - —Å—É–º–º–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π)
  - `description` (string) - –æ–ø–∏—Å–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å

### `loadFromServer(forceUpdate)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `forceUpdate` (boolean) - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** Promise

### `shouldLoadFromServer(forceUpdate)`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `forceUpdate` (boolean) - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** boolean

### `updateUI()`
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:** –ù–µ—Ç
- **–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** void

## ‚öôÔ∏è –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

```javascript
this.config = {
    updateInterval: 30000, // 30 —Å–µ–∫—É–Ω–¥ - –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    protectionTime: 5000,  // 5 —Å–µ–∫—É–Ω–¥ - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–±—Ä–æ—Å–∞
    syncDelay: 2000       // 2 —Å–µ–∫—É–Ω–¥—ã - –∑–∞–¥–µ—Ä–∂–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
};
```

## üõ°Ô∏è –ó–ê–©–ò–¢–ê –û–¢ –°–ë–†–û–°–ê –ë–ê–õ–ê–ù–°–ê

–ú–æ–¥—É–ª—å –∑–∞—â–∏—â–∞–µ—Ç –æ—Ç —Å–±—Ä–æ—Å–∞ –±–∞–ª–∞–Ω—Å–∞ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Å–ª—É—á–∞—è—Ö:
1. **–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ** - –Ω–æ–≤—ã–π –±–∞–ª–∞–Ω—Å –±–æ–ª—å—à–µ —Ç–µ–∫—É—â–µ–≥–æ
2. **–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å —Ä–∞–≤–µ–Ω 0
3. **–ó–∞—â–∏—Ç–∞ –ø–æ –≤—Ä–µ–º–µ–Ω–∏** - –ø—Ä–æ—à–ª–æ –±–æ–ª—å—à–µ 5 —Å–µ–∫—É–Ω–¥ —Å –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
4. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - `forceUpdate = true`

## üì± –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨

–ú–æ–¥—É–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö:
- **–î–µ—Å–∫—Ç–æ–ø** - –¥–≤—É—Ö–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–µ—Ç–∫–∞
- **–ü–ª–∞–Ω—à–µ—Ç** - –∞–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞
- **–ú–æ–±–∏–ª—å–Ω—ã–π** - –æ–¥–Ω–æ–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–µ—Ç–∫–∞

## üé® –°–¢–ò–õ–ò–ó–ê–¶–ò–Ø

–í—Å–µ —Å—Ç–∏–ª–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –≤ `bank.css`:
- **–ì—Ä–∞–¥–∏–µ–Ω—Ç—ã** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω
- **–ê–Ω–∏–º–∞—Ü–∏–∏** - –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- **–¢–µ–Ω–∏** - –æ–±—ä–µ–º–Ω–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞ –Ω–∞ –≤—Å–µ—Ö —ç–∫—Ä–∞–Ω–∞—Ö

## üîÑ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø

–î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –º–æ–¥—É–ª—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç:

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ —Ñ–∞–π–ª—ã:**
```html
<link rel="stylesheet" href="bank-module/bank.css">
<script src="bank-module/bank.js"></script>
```

2. **–í–∫–ª—é—á–∏—Ç–µ HTML:**
```html
<!-- –í–∫–ª—é—á–∏—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ bank.html –≤ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª -->
```

3. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –º–æ–¥—É–ª—å:**
```javascript
// –í –æ—Å–Ω–æ–≤–Ω–æ–º –∫–æ–¥–µ
const bankModule = new BankModule();
await bankModule.init();
```

## üêõ –û–¢–õ–ê–î–ö–ê

–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** - –ª–æ–≥–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –±–∞–ª–∞–Ω—Å–æ–º
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –ª–æ–≥–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞
- **UI –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –ª–æ–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- **–û—à–∏–±–∫–∏** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üìà –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

–ú–æ–¥—É–ª—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
- **–õ–æ–∫–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ—Ç–∫–ª–∏–∫
- **–£–º–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –º–∏–Ω–∏–º—É–º –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** - –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫

## üöÄ –ë–£–î–£–©–ò–ï –£–õ–£–ß–®–ï–ù–ò–Ø

- [ ] **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** - –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–ª—è –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
- [ ] **WebSocket** - —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- [ ] **–ê–Ω–∏–º–∞—Ü–∏–∏** - –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- [ ] **–¢–µ–º—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- [ ] **–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö** - –≤—ã–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–π