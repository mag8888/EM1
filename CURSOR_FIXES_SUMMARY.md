# –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –ø—Ä–∞–≤–æ–∫ Cursor - –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. **TurnController.js** - –£–ø—Ä–æ—â–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ö–æ–¥–∞
- **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: –£–±—Ä–∞–Ω–∞ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ñ–∞–∑–∞–º–∏
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Ñ–∞–∑–µ rolling**: –•–æ–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–∞
- **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∞–º–∏**: –ü–æ—Å–ª–µ –±—Ä–æ—Å–∫–∞ –∫–Ω–æ–ø–∫–∞ "–ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫" –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- **–ü–æ–∫–∞–∑ '---' –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Ç–∞–π–º–µ—Ä–∞**: –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ —Ö–æ–¥–∞
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**: –§–ª–∞–≥ `hasRolledThisTurn` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º

### 2. **server.js** - –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Ñ–ª–∞–≥–æ–≤
- **–§–ª–∞–≥ hasRolledThisTurn –≤ —Å–Ω–∏–º–∫–∞—Ö**: –§–ª–∞–≥ –≤–∫–ª—é—á–µ–Ω –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **–°–±—Ä–æ—Å —Ñ–ª–∞–≥–∞ –ø—Ä–∏ —Å–º–µ–Ω–µ —Ö–æ–¥–∞**: `room.hasRolledThisTurn = false` –≤ `autoEndTurn()`
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ –ø—Ä–∏ –±—Ä–æ—Å–∫–µ**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –±—Ä–æ—Å–∫–æ–≤ –≤ –æ–¥–Ω–æ–º —Ö–æ–¥—É
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä**: –§–ª–∞–≥ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö API

### 3. **game.html** - –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
- **–í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å**: –û—Ç–∫–ª—é—á–µ–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–µ—Ä—ã–º–∏
- **CSS –∫–ª–∞—Å—Å is-disabled**: –°—Ç–∏–ª–∏ –¥–ª—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ

## üîß –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–Ω–æ–ø–æ–∫**
```javascript
// TurnController.js
setButtonState(button, disabled) {
    if (!button) return;
    button.disabled = !!disabled;
    if (disabled) {
        button.classList.add('is-disabled');
    } else {
        button.classList.remove('is-disabled');
    }
}
```

### **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–ª–∞–≥–æ–≤**
```javascript
// server.js
// –í autoEndTurn()
room.hasRolledThisTurn = false;

// –í —Å–Ω–∏–º–∫–∞—Ö —Å–æ—Å—Ç–æ—è–Ω–∏—è
hasRolledThisTurn: room.hasRolledThisTurn
```

### **–°—Ç–∏–ª–∏ –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫**
```css
/* game.html */
.btn.is-disabled,
.btn:disabled {
    background: linear-gradient(135deg, #4b5563 0%, #374151 100%);
    color: rgba(229, 231, 235, 0.65);
    cursor: not-allowed;
    box-shadow: none;
}
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

1. **–£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ö–æ–¥–∞** - –º–µ–Ω—å—à–µ –±–∞–≥–æ–≤, –ø—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
2. **–ù–∞–¥–µ–∂–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –∫–ª–∏–µ–Ω—Ç –∏ —Å–µ—Ä–≤–µ—Ä –≤—Å–µ–≥–¥–∞ –≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
3. **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
4. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** - –Ω–µ–ª—å–∑—è –±—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫ –¥–≤–∞–∂–¥—ã –≤ –æ–¥–Ω–æ–º —Ö–æ–¥—É

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
- [ ] –ë—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–∞ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –±—Ä–æ—Å–∫–∞
- [ ] –ö–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ö–æ–¥" –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –±—Ä–æ—Å–∫–∞
- [ ] –¢–∞–π–º–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç '---' –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –≤—Ä–µ–º–µ–Ω–∏
- [ ] –°–º–µ–Ω–∞ —Ö–æ–¥–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥ –±—Ä–æ—Å–∫–∞
- [ ] –í–∏–∑—É–∞–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `assets/js/modules/game/TurnController.js` - —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞
- `server.js` - —É–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–ª–∞–≥–æ–≤
- `game.html` - —Å—Ç–∏–ª–∏ –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–Ω—ã—Ö –∫–Ω–æ–ø–æ–∫
