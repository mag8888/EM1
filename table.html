<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–≥—Ä–æ–≤–æ–π —Å—Ç–æ–ª - –≠–Ω–µ—Ä–≥–∏—è –¥–µ–Ω–µ–≥</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Using system fonts to avoid connection issues */
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #0c1445 100%);
            color: white;
            overflow: hidden;
            height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(120, 219, 255, 0.2) 0%, transparent 50%);
            pointer-events: none;
        }

        .game-container {
            display: flex;
            height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ */
        .game-board {
            flex: 1;
            background: rgba(22, 33, 62, 0.4);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .board-wrapper {
            position: relative;
            width: 88vh;
            height: 88vh;
            max-width: 880px;
            max-height: 880px;
            filter: drop-shadow(0 0 30px rgba(255, 255, 255, 0.1));
        }

        /* –í–Ω–µ—à–Ω–∏–π —Ç—Ä–µ–∫ - –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –ø–æ–ª–µ */
        .outer-track {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 0;
            background: rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            box-shadow: 
                inset 0 0 0 1px rgba(255, 255, 255, 0.1),
                0 0 20px rgba(255, 255, 255, 0.05);
        }

        .outer-squares {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .outer-square {
            position: absolute;
            width: 44px;
            height: 44px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(10px);
            box-shadow: 
                0 2px 8px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .outer-square::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .outer-square:hover {
            transform: scale(1.15) translateY(-2px);
            z-index: 10;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .outer-square:hover::before {
            opacity: 1;
        }


        /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–ø–∏—Ä–∞–ª—å–Ω—ã–π —Ç—Ä–µ–∫ */
        .inner-track {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 66%;
            height: 66%;
        }

        .inner-squares {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .inner-square {
            position: absolute;
            width: 59px;
            height: 59px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            backdrop-filter: blur(8px);
            box-shadow: 
                0 2px 6px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .inner-square::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .inner-square:hover {
            transform: scale(1.25) translateY(-2px);
            z-index: 10;
            box-shadow: 
                0 6px 20px rgba(0, 0, 0, 0.3),
                0 0 15px rgba(255, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .inner-square:hover::before {
            opacity: 1;
        }



        /* –¶–∏—Ñ—Ä—ã –≤ —É–≥–ª—É –∫–ª–µ—Ç–æ–∫ */
        .square-number {
            position: absolute;
            top: 4px;
            right: 4px;
            font-size: 10px;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.8);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
            z-index: 2;
        }

        /* –¶–∏—Ñ—Ä—ã –≤ –ª–µ–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É –¥–ª—è –∫–ª–µ—Ç–æ–∫ 11-24 */
        .square-number.bottom-left {
            top: auto;
            right: auto;
            bottom: 4px;
            left: 4px;
        }

        /* –ö—Ä—É–ø–Ω—ã–µ –æ–¥–Ω–æ—Ç–æ–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ */
        .square-icon {
            font-size: 32px;
            filter: grayscale(100%) brightness(1.2);
            opacity: 0.9;
        }

        .inner-square .square-icon {
            font-size: 28px;
        }

        /* –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø */
        .center-logo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 160px;
            height: 160px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                0 8px 32px rgba(255, 215, 0, 0.4),
                0 0 0 4px rgba(255, 215, 0, 0.2);
            z-index: 20;
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .center-logo:hover {
            transform: translate(-50%, -50%) scale(1.05);
        }

        .logo-inner {
            width: 140px;
            height: 140px;
            background: radial-gradient(circle, #000000 0%, #1a1a1a 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .dice {
            font-size: 48px;
            font-weight: bold;
            color: #FFD700;
            text-shadow: 
                0 0 20px rgba(255, 215, 0, 0.8),
                0 0 40px rgba(255, 165, 0, 0.6);
            z-index: 3;
            position: relative;
        }

        .dice.rolling {
            animation: diceRoll 0.1s infinite;
        }

        @keyframes diceRoll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.1); }
            50% { transform: rotate(180deg) scale(0.9); }
            75% { transform: rotate(270deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }

        /* –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –ª–∏–Ω–∏–∏ */
        .energy-lines {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                transparent 0deg,
                rgba(255, 215, 0, 0.3) 45deg,
                transparent 90deg,
                rgba(255, 165, 0, 0.3) 135deg,
                transparent 180deg,
                rgba(255, 140, 0, 0.3) 225deg,
                transparent 270deg,
                rgba(255, 215, 0, 0.3) 315deg,
                transparent 360deg
            );
            animation: rotate 4s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* –°–≤–µ—Ç—è—â–∏–µ—Å—è —Ç–æ—á–∫–∏ */
        .glow-dots {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .glow-dot {
            position: absolute;
            width: 6px;
            height: 6px;
            background: #FFD700;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
            animation: pulse 2s ease-in-out infinite;
        }

        .glow-dot:nth-child(1) {
            transform: translate(-50%, -50%) rotate(0deg) translateY(-50px);
            animation-delay: 0s;
        }

        .glow-dot:nth-child(2) {
            transform: translate(-50%, -50%) rotate(60deg) translateY(-50px);
            animation-delay: 0.3s;
        }

        .glow-dot:nth-child(3) {
            transform: translate(-50%, -50%) rotate(120deg) translateY(-50px);
            animation-delay: 0.6s;
        }

        .glow-dot:nth-child(4) {
            transform: translate(-50%, -50%) rotate(180deg) translateY(-50px);
            animation-delay: 0.9s;
        }

        .glow-dot:nth-child(5) {
            transform: translate(-50%, -50%) rotate(240deg) translateY(-50px);
            animation-delay: 1.2s;
        }

        .glow-dot:nth-child(6) {
            transform: translate(-50%, -50%) rotate(300deg) translateY(-50px);
            animation-delay: 1.5s;
        }

        @keyframes pulse {
            0%, 100% { 
                opacity: 0.3;
                transform: translate(-50%, -50%) scale(1);
            }
            50% { 
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.2);
            }
        }

        /* –í–Ω–µ—à–Ω–∏–µ –º–æ–Ω–µ—Ç—ã */
        .outer-coins {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .coin {
            position: absolute;
            width: 24px;
            height: 24px;
            background: radial-gradient(circle, #FFD700 0%, #FFA500 100%);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(255, 215, 0, 0.6);
            border: 2px solid #FFD700;
        }

        .coin:nth-child(1) {
            transform: translate(-50%, -50%) rotate(45deg) translateY(-70px);
        }

        .coin:nth-child(2) {
            transform: translate(-50%, -50%) rotate(135deg) translateY(-70px);
        }

        .coin:nth-child(3) {
            transform: translate(-50%, -50%) rotate(225deg) translateY(-70px);
        }

        .coin:nth-child(4) {
            transform: translate(-50%, -50%) rotate(315deg) translateY(-70px);
        }

        .coin-symbol {
            font-size: 12px;
            font-weight: bold;
            color: #000000;
        }

        /* –§–∏—à–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ */
        .player-token {
            position: absolute;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            font-weight: 800;
            color: white;
            border: 3px solid rgba(255, 255, 255, 0.9);
            z-index: 15;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 4px 12px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 255, 255, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(5px);
        }

        .player-token:hover {
            transform: scale(1.3) translateY(-3px);
            box-shadow: 
                0 8px 20px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(255, 255, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
        }

        .player-1 { 
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 50%, #b91c1c 100%);
            box-shadow: 
                0 4px 12px rgba(239, 68, 68, 0.4),
                0 0 20px rgba(239, 68, 68, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        .player-2 { 
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 50%, #1d4ed8 100%);
            box-shadow: 
                0 4px 12px rgba(59, 130, 246, 0.4),
                0 0 20px rgba(59, 130, 246, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }
        .player-3 { 
            background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
            box-shadow: 
                0 4px 12px rgba(16, 185, 129, 0.4),
                0 0 20px rgba(16, 185, 129, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        /* –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å */
        .sidebar {
            width: 320px;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(20px);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 24px;
            box-shadow: 
                -10px 0 30px rgba(0, 0, 0, 0.3),
                inset 1px 0 0 rgba(255, 255, 255, 0.1);
            overflow-y: auto;
            max-height: 100vh;
        }

        /* –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ */
        .sidebar::-webkit-scrollbar {
            width: 6px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: rgba(16, 185, 129, 0.5);
            border-radius: 3px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover {
            background: rgba(16, 185, 129, 0.7);
        }

        .section {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .section:hover {
            background: rgba(30, 41, 59, 0.8);
            transform: translateY(-2px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .section-title {
            font-size: 15px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #e2e8f0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .assets-button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 15px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 
                0 4px 15px rgba(16, 185, 129, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .assets-button:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 50%, #065f46 100%);
            transform: translateY(-3px);
            box-shadow: 
                0 8px 25px rgba(16, 185, 129, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .roll-dice-button {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
            color: white;
            border: none;
            border-radius: 14px;
            font-size: 17px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            margin-bottom: 18px;
            box-shadow: 
                0 6px 20px rgba(16, 185, 129, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .roll-dice-button:hover {
            background: linear-gradient(135deg, #059669 0%, #047857 50%, #065f46 100%);
            transform: translateY(-4px);
            box-shadow: 
                0 12px 30px rgba(16, 185, 129, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        .roll-dice-button:disabled {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 50%, #374151 100%);
            cursor: not-allowed;
            transform: none;
            box-shadow: 
                0 2px 8px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .turn-timer {
            margin-bottom: 15px;
        }

        .timer-bar {
            width: 100%;
            height: 8px;
            background: #374151;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .timer-fill {
            height: 100%;
            background: #10b981;
            transition: width 1s linear, background-color 0.3s ease;
        }

        .timer-fill.warning {
            background: #f59e0b;
        }

        .timer-fill.danger {
            background: #ef4444;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .timer-text {
            font-size: 12px;
            color: #94a3b8;
            text-align: center;
        }

        .players-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .player-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px;
            background: #374151;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .player-item:hover {
            background: #4b5563;
        }

        .player-item.current {
            background: #1e40af;
        }

        .player-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
            color: white;
        }

        .player-info {
            flex: 1;
        }

        .player-name {
            font-size: 12px;
            font-weight: bold;
            margin-bottom: 2px;
        }

        .player-role {
            font-size: 10px;
            color: #94a3b8;
        }

        .player-status {
            font-size: 10px;
            color: #10b981;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .current-player {
            margin-top: 15px;
        }

        .current-player-title {
            font-size: 12px;
            color: #94a3b8;
            margin-bottom: 8px;
        }

        .current-player-info {
            padding: 10px;
            background: #374151;
            border-radius: 6px;
            text-align: center;
            font-size: 12px;
            color: #e5e7eb;
        }

        /* –ü—Ä–µ–≤—å—é –±–∞–Ω–∫–∞ */
        .bank-preview {
            background: rgba(30, 41, 59, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .bank-preview:hover {
            background: rgba(30, 41, 59, 0.8);
            transform: translateY(-2px);
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .bank-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .bank-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 700;
            color: #e2e8f0;
        }

        .bank-icon {
            width: 24px;
            height: 24px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .bank-status {
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .bank-balance {
            text-align: center;
            margin-bottom: 16px;
        }

        .balance-amount {
            font-size: 24px;
            font-weight: 800;
            color: #10b981;
            margin-bottom: 4px;
        }

        .balance-label {
            font-size: 12px;
            color: #94a3b8;
        }

        .bank-stats {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .bank-stat {
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-size: 12px;
        }

        .stat-label {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #e2e8f0;
        }

        .stat-value {
            font-weight: 600;
        }

        .stat-value.income {
            color: #10b981;
        }

        .stat-value.expenses {
            color: #ef4444;
        }

        .stat-value.payday {
            color: #f59e0b;
        }

        .bank-actions {
            margin-top: 12px;
            display: flex;
            gap: 8px;
        }

        .bank-btn {
            flex: 1;
            padding: 8px 12px;
            border: none;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bank-btn.primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .bank-btn.secondary {
            background: rgba(107, 114, 128, 0.3);
            color: #e2e8f0;
            border: 1px solid rgba(107, 114, 128, 0.5);
        }

        .exit-game-button {
            width: 100%;
            padding: 12px 16px;
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .exit-game-button:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        .exit-game-button:active {
            transform: translateY(0);
        }

        /* –ë–∞–Ω–∫–æ–≤—Å–∫–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .bank-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .bank-modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 0;
            max-width: 900px;
            width: 95%;
            max-height: 85vh;
            overflow-y: auto;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .bank-modal .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .bank-icon {
            font-size: 24px;
        }

        .bank-modal .modal-header h3 {
            color: #e2e8f0;
            margin: 0;
            font-size: 20px;
            font-weight: 600;
        }

        .bank-layout {
            display: flex;
            min-height: 500px;
        }

        .bank-info-panel {
            flex: 1;
            padding: 30px;
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(255, 255, 255, 0.02);
        }

        .bank-operations-panel {
            flex: 1.5;
            padding: 30px;
        }

        .bank-status {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 25px;
        }

        .bank-status h4 {
            color: #e2e8f0;
            margin: 0;
            font-size: 18px;
            font-weight: 600;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-badge.active {
            background: #10b981;
            color: white;
        }

        .balance-section {
            margin-bottom: 25px;
        }

        .balance-amount {
            font-size: 36px;
            font-weight: bold;
            color: #10b981;
            margin-bottom: 8px;
        }

        .balance-label {
            color: #94a3b8;
            font-size: 14px;
        }

        .financial-summary {
            margin-bottom: 25px;
        }

        .summary-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            padding: 8px 0;
        }

        .summary-icon {
            font-size: 16px;
        }

        .summary-label {
            color: #e2e8f0;
            font-size: 14px;
            min-width: 60px;
        }

        .summary-value {
            color: #e2e8f0;
            font-weight: 600;
            font-size: 14px;
        }

        .credit-section {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 20px;
        }

        .credit-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .credit-icon {
            font-size: 16px;
        }

        .credit-title {
            color: #e2e8f0;
            font-weight: 600;
            font-size: 16px;
        }

        .credit-info {
            margin-bottom: 15px;
        }

        .credit-amount, .credit-limit {
            color: #e2e8f0;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .credit-buttons {
            display: flex;
            gap: 10px;
        }

        .credit-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .credit-btn.no-credit {
            background: #10b981;
            color: white;
        }

        .credit-btn.take-credit {
            background: #ef4444;
            color: white;
        }

        .credit-btn:hover {
            transform: translateY(-1px);
        }

        .transfer-section, .history-section {
            margin-bottom: 30px;
        }

        .transfer-section h4, .history-section h4 {
            color: #e2e8f0;
            margin-bottom: 20px;
            font-size: 16px;
            font-weight: 600;
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .form-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            color: #e2e8f0;
            font-size: 14px;
            font-weight: 500;
        }

        .form-select, .form-input {
            padding: 12px 16px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.05);
            color: #e2e8f0;
            font-size: 14px;
            transition: all 0.3s ease;
            position: relative;
        }

        .form-input {
            position: relative;
        }

        .input-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8;
            font-size: 16px;
        }

        .form-select:focus, .form-input:focus {
            outline: none;
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.1);
        }

        .form-actions {
            display: flex;
            gap: 15px;
        }

        .transfer-btn {
            flex: 1;
            padding: 12px 20px;
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .transfer-btn:hover {
            background: linear-gradient(135deg, #4b5563 0%, #374151 100%);
            transform: translateY(-1px);
        }

        .reset-btn {
            padding: 12px 20px;
            background: rgba(255, 255, 255, 0.1);
            color: #e2e8f0;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .history-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }

        .history-icon {
            font-size: 16px;
        }

        .history-count {
            background: #8b5cf6;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .transfers-history {
            max-height: 300px;
            overflow-y: auto;
        }

        .transfer-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #10b981;
        }

        .transfer-icon {
            font-size: 20px;
        }

        .transfer-details {
            flex: 1;
        }

        .transfer-description {
            color: #e2e8f0;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .transfer-direction {
            color: #94a3b8;
            font-size: 12px;
            margin-bottom: 2px;
        }

        .transfer-date {
            color: #94a3b8;
            font-size: 12px;
        }

        .transfer-amount {
            font-weight: bold;
            font-size: 16px;
            margin-right: 10px;
        }

        .transfer-amount.positive {
            color: #10b981;
        }

        .transfer-amount.negative {
            color: #ef4444;
        }

        .transfer-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
        }

        .transfer-status.completed {
            background: #10b981;
            color: white;
        }

        .no-transfers {
            text-align: center;
            color: #94a3b8;
            font-style: italic;
            padding: 40px 20px;
        }

        .bank-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –∫—É–±–∏–∫–∞ –ø–æ–¥ –∫–Ω–æ–ø–∫–æ–π */
        .dice-animation-container {
            display: flex;
            justify-content: center;
            margin-top: 12px;
            padding: 8px;
        }

        .mini-dice {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 50%, #FF8C00 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            font-weight: bold;
            color: #000;
            box-shadow: 
                0 4px 12px rgba(255, 215, 0, 0.4),
                0 0 0 2px rgba(255, 215, 0, 0.2);
            transition: all 0.3s ease;
            animation: miniDiceIdle 2s ease-in-out infinite;
        }

        .mini-dice.rolling {
            animation: miniDiceRoll 0.1s infinite;
        }

        @keyframes miniDiceIdle {
            0%, 100% { 
                transform: rotate(0deg) scale(1);
                box-shadow: 
                    0 4px 12px rgba(255, 215, 0, 0.4),
                    0 0 0 2px rgba(255, 215, 0, 0.2);
            }
            50% { 
                transform: rotate(5deg) scale(1.05);
                box-shadow: 
                    0 6px 16px rgba(255, 215, 0, 0.6),
                    0 0 0 3px rgba(255, 215, 0, 0.3);
            }
        }

        @keyframes miniDiceRoll {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(90deg) scale(1.1); }
            50% { transform: rotate(180deg) scale(0.9); }
            75% { transform: rotate(270deg) scale(1.1); }
            100% { transform: rotate(360deg) scale(1); }
        }

        /* –¶–≤–µ—Ç–∞ –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ */
        .square-green { background: #10b981; color: white; }
        .square-pink { background: #ec4899; color: white; }
        .square-yellow { background: #fbbf24; color: #1f2937; }
        .square-red { background: #ef4444; color: white; }
        .square-blue { background: #3b82f6; color: white; }
        .square-orange { background: #f97316; color: white; }
        .square-light-blue { background: #06b6d4; color: white; }
        .square-black { background: #1f2937; color: white; }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes rollDice {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(90deg); }
            50% { transform: rotate(180deg); }
            75% { transform: rotate(270deg); }
            100% { transform: rotate(360deg); }
        }

        .dice.rolling {
            animation: rollDice 0.5s ease-in-out;
        }

        @keyframes moveToken {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .player-token.moving {
            animation: moveToken 0.5s ease-in-out;
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–µ—Ç–∫–µ */
        .cell-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: rgba(30, 41, 59, 0.95);
            backdrop-filter: blur(20px);
            margin: 5% auto;
            padding: 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 30px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header h3 {
            margin: 0;
            color: white;
            font-size: 20px;
            font-weight: 700;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close:hover {
            color: white;
        }

        .modal-body {
            padding: 30px;
        }

        .cell-info {
            margin-bottom: 30px;
        }

        .info-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .label {
            color: #94a3b8;
            font-weight: 600;
            font-size: 14px;
        }

        .value {
            color: white;
            font-weight: 500;
            font-size: 14px;
            text-align: right;
        }

        .modal-actions {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
        }

        .btn-primary, .btn-secondary {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
        <div class="game-board">
            <div class="board-wrapper">
                <!-- –í–Ω–µ—à–Ω–∏–π —Ç—Ä–µ–∫ -->
                <div class="outer-track">
                    <div class="outer-squares" id="outerSquares"></div>
                </div>


                <!-- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ç—Ä–µ–∫ -->
                <div class="inner-track">
                    <div class="inner-squares" id="innerSquares"></div>
                </div>

                <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø -->
                <div class="center-logo" onclick="rollDice()">
                    <div class="logo-inner">
                        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–∞ -->
                        <div class="dice" id="dice">$</div>
                        
                        <!-- –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –ª–∏–Ω–∏–∏ -->
                        <div class="energy-lines"></div>
                        
                        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å–≤–µ—Ç—è—â–∏–µ—Å—è —Ç–æ—á–∫–∏ -->
                        <div class="glow-dots">
                            <div class="glow-dot"></div>
                            <div class="glow-dot"></div>
                            <div class="glow-dot"></div>
                            <div class="glow-dot"></div>
                            <div class="glow-dot"></div>
                            <div class="glow-dot"></div>
                        </div>
                    </div>
                    
                    <!-- –í–Ω–µ—à–Ω–∏–µ –º–æ–Ω–µ—Ç—ã -->
                    <div class="outer-coins">
                        <div class="coin"><span class="coin-symbol">$</span></div>
                        <div class="coin"><span class="coin-symbol">$</span></div>
                        <div class="coin"><span class="coin-symbol">$</span></div>
                        <div class="coin"><span class="coin-symbol">$</span></div>
                    </div>
                </div>

                <!-- –§–∏—à–∫–∏ –∏–≥—Ä–æ–∫–æ–≤ -->
                <div class="player-token player-1" id="player1" style="top: 50%; left: 50%;">1</div>
                <div class="player-token player-2" id="player2" style="top: 50%; left: 50%;">2</div>
                <div class="player-token player-3" id="player3" style="top: 50%; left: 50%;">3</div>
            </div>
        </div>

        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="sidebar">
            <!-- 1. –ë–∞–Ω–∫ -->
            <div class="bank-preview" onclick="openBank()">
                <div class="bank-header">
                    <div class="bank-title">
                        <div class="bank-icon">üè¶</div>
                        <span>–ë–∞–Ω–∫</span>
                    </div>
                    <div class="bank-status">–ê–∫—Ç–∏–≤–µ–Ω</div>
                </div>
                
                <div class="bank-balance">
                    <div class="balance-amount" id="bankBalance">$3 000</div>
                    <div class="balance-label">–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π</div>
                </div>
                
                <div class="bank-stats">
                    <div class="bank-stat">
                        <div class="stat-label">
                            <span>üìà</span>
                            <span>–î–æ—Ö–æ–¥:</span>
                        </div>
                        <div class="stat-value income">$6 000</div>
                    </div>
                    <div class="bank-stat">
                        <div class="stat-label">
                            <span>üìâ</span>
                            <span>–†–∞—Å—Ö–æ–¥—ã:</span>
                        </div>
                        <div class="stat-value expenses">$2 500</div>
                    </div>
                    <div class="bank-stat">
                        <div class="stat-label">
                            <span>üí∞</span>
                            <span>PAYDAY:</span>
                        </div>
                        <div class="stat-value payday">$3 500/–º–µ—Å</div>
                    </div>
                </div>
                
                <div class="bank-actions">
                    <button class="bank-btn secondary" onclick="event.stopPropagation(); viewDetails()">
                        <span>üëÅ</span>
                        <span>–î–µ—Ç–∞–ª–∏</span>
                    </button>
                    <button class="bank-btn primary" onclick="event.stopPropagation(); openBank()">
                        <span>üè¶</span>
                        <span>–û—Ç–∫—Ä—ã—Ç—å</span>
                    </button>
                </div>
            </div>

            <!-- 2. –ê–∫—Ç–∏–≤—ã -->
            <div class="section">
                <button class="assets-button">
                    <span>üí∞</span>
                    <span>–ú–æ–∏ –∞–∫—Ç–∏–≤—ã</span>
                </button>
            </div>

            <!-- 3. –û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å –∏–≥—Ä–æ–∫–æ–≤ -->
            <div class="section">
                <div class="section-title">–û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å –∏–≥—Ä–æ–∫–æ–≤</div>
                <div class="players-list">
                    <div class="player-item current" id="player1Item">
                        <div class="player-avatar player-1">1</div>
                        <div class="player-info">
                            <div class="player-name">–ò–≥—Ä–æ–∫ 1</div>
                            <div class="player-role">–í—Ä–∞—á</div>
                        </div>
                        <div class="player-status">
                            <span>‚úì</span>
                            <span>–ì–æ—Ç–æ–≤</span>
                        </div>
                    </div>
                    <div class="player-item" id="player2Item">
                        <div class="player-avatar player-2">2</div>
                        <div class="player-info">
                            <div class="player-name">–ò–≥—Ä–æ–∫ 2</div>
                            <div class="player-role">–ò–Ω–≤–µ—Å—Ç–æ—Ä</div>
                        </div>
                        <div class="player-status">
                            <span>‚úì</span>
                            <span>–ì–æ—Ç–æ–≤</span>
                        </div>
                    </div>
                    <div class="player-item" id="player3Item">
                        <div class="player-avatar player-3">3</div>
                        <div class="player-info">
                            <div class="player-name">–ò–≥—Ä–æ–∫ 3</div>
                            <div class="player-role">–§–∏–Ω–∞–Ω—Å–∏—Å—Ç</div>
                        </div>
                        <div class="player-status">
                            <span>‚úì</span>
                            <span>–ì–æ—Ç–æ–≤</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 4. –ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫ -->
            <div class="section">
                <button class="roll-dice-button" id="rollDiceBtn">
                    <span>üé≤</span>
                    <span>–ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫</span>
                </button>
            </div>

            <!-- 5. –®–∫–∞–ª–∞ —Ç–∞–π–º–∏–Ω–≥–∞ -->
            <div class="section">
                <div class="section-title">–í—Ä–µ–º—è —Ö–æ–¥–∞</div>
                <div class="turn-timer">
                    <div class="timer-bar">
                        <div class="timer-fill" id="timerFill" style="width: 100%;"></div>
                    </div>
                    <div class="timer-text" id="timerText">2:00 / 2:00</div>
                </div>
            </div>

            <!-- –¢–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫ -->
            <div class="section current-player">
                <div class="current-player-title">–¢–µ–∫—É—â–∏–π –∏–≥—Ä–æ–∫</div>
                <div class="current-player-info" id="currentPlayerInfo">
                    <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                        <div class="player-avatar player-1" style="width: 20px; height: 20px; font-size: 10px;">1</div>
                        <div>
                            <div style="font-weight: bold;">–ò–≥—Ä–æ–∫ 1</div>
                            <div style="font-size: 12px; color: #94a3b8;">–í—Ä–∞—á</div>
                        </div>
                    </div>
                    <div style="font-size: 14px; font-weight: bold; color: #10b981;">$10000</div>
                </div>
            </div>

            <!-- –í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã -->
            <div class="section">
                <button class="exit-game-button" onclick="exitGame()">
                    <span>üö™</span>
                    <span>–í—ã—Ö–æ–¥ –∏–∑ –∏–≥—Ä—ã</span>
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–µ—Ç–∫–µ -->
    <div class="cell-modal" id="cellModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="cellTitle">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–µ—Ç–∫–µ</h3>
                <span class="close" onclick="closeCellModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="cell-info">
                    <div class="info-row">
                        <span class="label">–¢–∏–ø:</span>
                        <span class="value" id="cellType">-</span>
                    </div>
                    <div class="info-row">
                        <span class="label">–°—Ç–æ–∏–º–æ—Å—Ç—å:</span>
                        <span class="value" id="cellCost">-</span>
                    </div>
                    <div class="info-row">
                        <span class="label">–î–æ—Ö–æ–¥:</span>
                        <span class="value" id="cellIncome">-</span>
                    </div>
                    <div class="info-row">
                        <span class="label">–í–ª–∞–¥–µ–ª–µ—Ü:</span>
                        <span class="value" id="cellOwner">-</span>
                    </div>
                    <div class="info-row">
                        <span class="label">–û–ø–∏—Å–∞–Ω–∏–µ:</span>
                        <span class="value" id="cellDescription">-</span>
                    </div>
                </div>
                <div class="modal-actions">
                    <button class="btn-primary" onclick="buyCell()" id="buyButton" style="display: none;">–ö—É–ø–∏—Ç—å</button>
                    <button class="btn-secondary" onclick="closeCellModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –±–∞–Ω–∫–∞ -->
    <div class="bank-modal" id="bankModal" onclick="closeBankModalOnBackdrop(event)">
        <div class="modal-content bank-modal-content" onclick="event.stopPropagation()">
            <div class="modal-header">
                <div class="header-left">
                    <span class="bank-icon">üè¶</span>
                    <h3>–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</h3>
                </div>
                <span class="close" onclick="closeBankModal()">&times;</span>
            </div>
            <div class="modal-body">
                <div class="bank-layout">
                    <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–Ω–∫–µ -->
                    <div class="bank-info-panel">
                        <div class="bank-status">
                            <span class="bank-icon">üè¶</span>
                            <h4>–ë–∞–Ω–∫</h4>
                            <span class="status-badge active">–ê–∫—Ç–∏–≤–µ–Ω</span>
                        </div>
                        
                        <div class="balance-section">
                            <div class="balance-amount" id="currentBalance">$3,000</div>
                            <div class="balance-label">–î–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π</div>
                        </div>

                        <div class="financial-summary">
                            <div class="summary-item">
                                <span class="summary-icon">üìà</span>
                                <span class="summary-label">–î–æ—Ö–æ–¥:</span>
                                <span class="summary-value" id="totalIncome">$6,000</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-icon">üìâ</span>
                                <span class="summary-label">–†–∞—Å—Ö–æ–¥—ã:</span>
                                <span class="summary-value" id="totalExpenses">$2,500</span>
                            </div>
                            <div class="summary-item">
                                <span class="summary-icon">üí∞</span>
                                <span class="summary-label">PAYDAY:</span>
                                <span class="summary-value" id="monthlyIncome">$3,500/–º–µ—Å</span>
                            </div>
                        </div>

                        <div class="credit-section">
                            <div class="credit-header">
                                <span class="credit-icon">üí≥</span>
                                <span class="credit-title">–ö—Ä–µ–¥–∏—Ç</span>
                            </div>
                            <div class="credit-info">
                                <div class="credit-amount">–ö—Ä–µ–¥–∏—Ç: <span id="currentCredit">$0</span></div>
                                <div class="credit-limit">–ú–∞–∫—Å. –∫—Ä–µ–¥–∏—Ç: <span id="maxCredit">$10,000</span></div>
                            </div>
                            <div class="credit-buttons">
                                <button class="credit-btn no-credit active">‚úì –ë–µ–∑ –∫—Ä–µ–¥–∏—Ç–æ–≤</button>
                                <button class="credit-btn take-credit">üí≥ –í–∑—è—Ç—å</button>
                            </div>
                        </div>
                    </div>

                    <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –æ–ø–µ—Ä–∞—Ü–∏–∏ -->
                    <div class="bank-operations-panel">
                        <!-- –ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ -->
                        <div class="transfer-section">
                            <h4>–ü–µ—Ä–µ–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h4>
                            <div class="transfer-form">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>–ü–æ–ª—É—á–∞—Ç–µ–ª—å</label>
                                        <select id="recipientSelect" class="form-select">
                                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞...</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>–°—É–º–º–∞ ($)</label>
                                        <input type="number" id="transferAmount" class="form-input" placeholder="0" min="1">
                                        <span class="input-icon">üëÅ</span>
                                    </div>
                                </div>
                                <div class="form-actions">
                                    <button class="transfer-btn" onclick="processTransfer()">
                                        <span class="btn-icon">‚úàÔ∏è</span>
                                        –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥
                                    </button>
                                    <button class="reset-btn" onclick="resetTransferForm()">–°–±—Ä–æ—Å–∏—Ç—å</button>
                                </div>
                            </div>
                        </div>

                        <!-- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π -->
                        <div class="history-section">
                            <div class="history-header">
                                <span class="history-icon">üïê</span>
                                <h4>–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h4>
                                <span class="history-count" id="historyCount">1</span>
                            </div>
                            <div class="transfers-history" id="transfersHistory">
                                <div class="transfer-item">
                                    <div class="transfer-icon">üìÑ</div>
                                    <div class="transfer-details">
                                        <div class="transfer-description">–ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏</div>
                                        <div class="transfer-direction">–ë–∞–Ω–∫ -> –ò–≥—Ä–æ–∫</div>
                                        <div class="transfer-date">08.09.2025, 08:59:18</div>
                                    </div>
                                    <div class="transfer-amount positive">+$3,000</div>
                                    <div class="transfer-status completed">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // –î–∞–Ω–Ω—ã–µ –æ –∫–ª–µ—Ç–∫–∞—Ö –º–∞–ª–æ–≥–æ –∫—Ä—É–≥–∞ (0-23)
        const innerCellData = {
            0: { name: "–°—Ç–∞—Ä—Ç", type: "–°—Ç–∞—Ä—Ç", cost: 0, income: 0, description: "–ù–∞—á–∞–ª—å–Ω–∞—è –∫–ª–µ—Ç–∫–∞", color: "blue", icon: "üèÅ" },
            1: { name: "–ó–∞—Ä–ø–ª–∞—Ç–∞", type: "–î–æ—Ö–æ–¥", cost: 0, income: 1000, description: "–ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã", color: "green", icon: "üí∞" },
            2: { name: "–ù–∞–ª–æ–≥–∏", type: "–†–∞—Å—Ö–æ–¥", cost: 0, income: -500, description: "–£–ø–ª–∞—Ç–∞ –Ω–∞–ª–æ–≥–æ–≤", color: "red", icon: "üìä" },
            3: { name: "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏", type: "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è", cost: 5000, income: 200, description: "–ü–æ–∫—É–ø–∫–∞ –∞–∫—Ü–∏–π", color: "purple", icon: "üìà" },
            4: { name: "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", type: "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", cost: 10000, income: 500, description: "–ü–æ–∫—É–ø–∫–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã", color: "orange", icon: "üè†" },
            5: { name: "–ë–∏–∑–Ω–µ—Å", type: "–ë–∏–∑–Ω–µ—Å", cost: 15000, income: 800, description: "–û—Ç–∫—Ä—ã—Ç–∏–µ –±–∏–∑–Ω–µ—Å–∞", color: "yellow", icon: "üè¢" },
            6: { name: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", type: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", cost: 3000, income: 0, description: "–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏", color: "cyan", icon: "üéì" },
            7: { name: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ", type: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ", cost: 1000, income: 0, description: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∂–∏–∑–Ω–∏", color: "pink", icon: "üõ°Ô∏è" },
            8: { name: "–ö—Ä–µ–¥–∏—Ç", type: "–ö—Ä–µ–¥–∏—Ç", cost: 0, income: -200, description: "–ü–æ–≥–∞—à–µ–Ω–∏–µ –∫—Ä–µ–¥–∏—Ç–∞", color: "red", icon: "üí≥" },
            9: { name: "–î–∏–≤–∏–¥–µ–Ω–¥—ã", type: "–î–æ—Ö–æ–¥", cost: 0, income: 300, description: "–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤", color: "green", icon: "üíé" },
            10: { name: "–†–µ–º–æ–Ω—Ç", type: "–†–∞—Å—Ö–æ–¥", cost: 2000, income: 0, description: "–†–µ–º–æ–Ω—Ç –∫–≤–∞—Ä—Ç–∏—Ä—ã", color: "red", icon: "üîß" },
            11: { name: "–ü–µ–Ω—Å–∏—è", type: "–ü–µ–Ω—Å–∏—è", cost: 0, income: 400, description: "–ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è", color: "blue", icon: "üë¥" },
            12: { name: "–ú–µ–¥–∏—Ü–∏–Ω–∞", type: "–†–∞—Å—Ö–æ–¥", cost: 1500, income: 0, description: "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ —É—Å–ª—É–≥–∏", color: "red", icon: "üè•" },
            13: { name: "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ", type: "–†–∞—Å—Ö–æ–¥", cost: 5000, income: 0, description: "–û—Ç–ø—É—Å–∫", color: "orange", icon: "‚úàÔ∏è" },
            14: { name: "–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", type: "–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", cost: 1000, income: 0, description: "–ü–æ–º–æ—â—å –Ω—É–∂–¥–∞—é—â–∏–º—Å—è", color: "purple", icon: "‚ù§Ô∏è" },
            15: { name: "–ù–∞–ª–æ–≥–∏", type: "–†–∞—Å—Ö–æ–¥", cost: 0, income: -800, description: "–£–ø–ª–∞—Ç–∞ –Ω–∞–ª–æ–≥–æ–≤", color: "red", icon: "üìä" },
            16: { name: "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏", type: "–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è", cost: 8000, income: 400, description: "–ü–æ–∫—É–ø–∫–∞ –æ–±–ª–∏–≥–∞—Ü–∏–π", color: "purple", icon: "üìà" },
            17: { name: "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", type: "–ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å", cost: 20000, income: 1000, description: "–ü–æ–∫—É–ø–∫–∞ –¥–æ–º–∞", color: "orange", icon: "üèòÔ∏è" },
            18: { name: "–ë–∏–∑–Ω–µ—Å", type: "–ë–∏–∑–Ω–µ—Å", cost: 25000, income: 1200, description: "–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–∞", color: "yellow", icon: "üè≠" },
            19: { name: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", type: "–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", cost: 5000, income: 0, description: "MBA", color: "cyan", icon: "üéì" },
            20: { name: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ", type: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ", cost: 2000, income: 0, description: "–°—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞", color: "pink", icon: "üõ°Ô∏è" },
            21: { name: "–ö—Ä–µ–¥–∏—Ç", type: "–ö—Ä–µ–¥–∏—Ç", cost: 0, income: -400, description: "–ü–æ–≥–∞—à–µ–Ω–∏–µ –∏–ø–æ—Ç–µ–∫–∏", color: "red", icon: "üí≥" },
            22: { name: "–î–∏–≤–∏–¥–µ–Ω–¥—ã", type: "–î–æ—Ö–æ–¥", cost: 0, income: 600, description: "–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∏–≤–∏–¥–µ–Ω–¥–æ–≤", color: "green", icon: "üíé" },
            23: { name: "–§–∏–Ω–∏—à", type: "–§–∏–Ω–∏—à", cost: 0, income: 0, description: "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∞–ª–æ–≥–æ –∫—Ä—É–≥–∞", color: "gold", icon: "üèÜ" }
        };

        // –î–∞–Ω–Ω—ã–µ –æ –∫–ª–µ—Ç–∫–∞—Ö –≤–Ω–µ—à–Ω–µ–≥–æ –∫—Ä—É–≥–∞ (Fast Track) - 51 –∫–ª–µ—Ç–∫–∞
        const cellData = {
            // üü° –î–ï–ù–¨–ì–ò (5 –∫–ª–µ—Ç–æ–∫) - –°–ï–†–´–ï
            1: { name: "–í–∞–º –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –¥–æ—Ö–æ–¥ –æ—Ç –≤–∞—à–∏—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π", type: "–î–æ—Ö–æ–¥", cost: 0, income: "–í—Å–µ –ø–∞—Å—Å–∏–≤–Ω—ã–µ –¥–æ—Ö–æ–¥—ã", description: "–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ –æ—Ç —Ä–∞–Ω–µ–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤", color: "gray", icon: "üí∞" },
            14: { name: "–í—ã–ø–ª–∞—Ç–∞ –¥–∏–≤–∏–¥–µ–Ω–¥—ã –≤—Ç–æ—Ä–æ–≥–æ –∫—Ä—É–≥–∞", type: "–î–æ—Ö–æ–¥", cost: 0, income: 0, description: "–í—ã–ø–ª–∞—Ç–∞ –¥–∏–≤–∏–¥–µ–Ω–¥—ã –≤—Ç–æ—Ä–æ–≥–æ –∫—Ä—É–≥–∞", color: "gray", icon: "üí∞" },
            27: { name: "–í—ã–ø–ª–∞—Ç–∞ –¥–∏–≤–∏–¥–µ–Ω–¥—ã –≤—Ç–æ—Ä–æ–≥–æ –∫—Ä—É–≥–∞", type: "–î–æ—Ö–æ–¥", cost: 0, income: 0, description: "–í—ã–ø–ª–∞—Ç–∞ –¥–∏–≤–∏–¥–µ–Ω–¥—ã –≤—Ç–æ—Ä–æ–≥–æ –∫—Ä—É–≥–∞", color: "gray", icon: "üí∞" },
            40: { name: "–í–∞–º –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –¥–æ—Ö–æ–¥ –æ—Ç –≤–∞—à–∏—Ö –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π", type: "–î–æ—Ö–æ–¥", cost: 0, income: "–í—Å–µ –ø–∞—Å—Å–∏–≤–Ω—ã–µ –¥–æ—Ö–æ–¥—ã", description: "–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ –æ—Ç —Ä–∞–Ω–µ–µ –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤", color: "gray", icon: "üí∞" },
            41: { name: "(–ø—É—Å—Ç–∞—è)", type: "–ü—É—Å—Ç–∞—è", cost: 0, income: 0, description: "(–ø—É—Å—Ç–∞—è)", color: "gray", icon: "üí∞" },

            // üü£ –ú–ï–ß–¢–´ (17 –∫–ª–µ—Ç–æ–∫) - –°–ï–†–´–ï
            2: { name: "–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º –º–µ—á—Ç—ã –¥–ª—è —Å–µ–º—å–∏", type: "–ú–µ—á—Ç–∞", cost: 100000, income: 0, description: "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—á—Ç—ã –æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –¥–æ–º–µ –¥–ª—è —Å–µ–º—å–∏", color: "gray", icon: "üè†" },
            6: { name: "–ü–æ—Å–µ—Ç–∏—Ç—å –ê–Ω—Ç–∞—Ä–∫—Ç–∏–¥—É", type: "–ú–µ—á—Ç–∞", cost: 150000, income: 0, description: "–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –Ω–∞ —Å–∞–º—ã–π —é–∂–Ω—ã–π –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç", color: "gray", icon: "‚úàÔ∏è" },
            12: { name: "–ü–æ–¥–Ω—è—Ç—å—Å—è –Ω–∞ –≤—Å–µ –≤—ã—Å–æ—á–∞–π—à–∏–µ –≤–µ—Ä—à–∏–Ω—ã –º–∏—Ä–∞", type: "–ú–µ—á—Ç–∞", cost: 500000, income: 0, description: "–ü–æ–∫–æ—Ä–µ–Ω–∏–µ —Å–µ–º–∏ –≤—ã—Å–æ—á–∞–π—à–∏—Ö –≤–µ—Ä—à–∏–Ω –ø–ª–∞–Ω–µ—Ç—ã (Seven Summits)", color: "gray", icon: "‚õ∞Ô∏è" },
            16: { name: "–ñ–∏—Ç—å –≥–æ–¥ –Ω–∞ —è—Ö—Ç–µ –≤ –°—Ä–µ–¥–∏–∑–µ–º–Ω–æ–º –º–æ—Ä–µ", type: "–ú–µ—á—Ç–∞", cost: 300000, income: 0, description: "–ì–æ–¥–æ–≤–∞—è –∂–∏–∑–Ω—å –Ω–∞ —Ä–æ—Å–∫–æ—à–Ω–æ–π —è—Ö—Ç–µ –≤ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–º –∫–ª–∏–º–∞—Ç–µ", color: "gray", icon: "‚õµ" },
            18: { name: "–°–æ–∑–¥–∞—Ç—å —Ñ–æ–Ω–¥ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ç–∞–ª–∞–Ω—Ç–æ–≤", type: "–ú–µ—á—Ç–∞", cost: 300000, income: 0, description: "–û—Å–Ω–æ–≤–∞–Ω–∏–µ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞ –¥–ª—è –ø–æ–º–æ—â–∏ –æ–¥–∞—Ä–µ–Ω–Ω—ã–º –ª—é–¥—è–º", color: "gray", icon: "üéóÔ∏è" },
            20: { name: "–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –º–∏—Ä–æ–≤–æ–π —Ñ–µ—Å—Ç–∏–≤–∞–ª—å", type: "–ú–µ—á—Ç–∞", cost: 200000, income: 0, description: "–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–Ω–æ–≥–æ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–≥–æ –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è", color: "gray", icon: "üé™" },
            24: { name: "–¢—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–º–ø–ª–µ–∫—Å (—ç–∫–æ-—Ä–∞–Ω—á–æ)", type: "–ú–µ—á—Ç–∞", cost: 1000000, income: 0, description: "–°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–º–ø–ª–µ–∫—Å–∞", color: "gray", icon: "üèûÔ∏è" },
            26: { name: "–ë–∏—Ä–∂–∞", type: "–ú–µ—á—Ç–∞", cost: 50000, income: "500,000$ (5-6)", description: "–†–∞–∑–æ–≤–æ –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è 500 000$ –µ—Å–ª–∏ –≤—ã–ø–∞–ª–æ 5 –∏–ª–∏ 6 –Ω–∞ –∫—É–±–∏–∫–µ", color: "gray", icon: "üìà" },
            28: { name: "NFT-–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞", type: "–ú–µ—á—Ç–∞", cost: 400000, income: 0, description: "–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ NFT", color: "gray", icon: "üíé" },
            30: { name: "–ü–æ–ª–µ—Ç –Ω–∞ –ú–∞—Ä—Å", type: "–ú–µ—á—Ç–∞", cost: 300000, income: 0, description: "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—á—Ç—ã –æ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏ –Ω–∞ –ö—Ä–∞—Å–Ω—É—é –ø–ª–∞–Ω–µ—Ç—É", color: "gray", icon: "üöÄ" },
            32: { name: "–°–æ–∑–¥–∞—Ç—å —à–∫–æ–ª—É –±—É–¥—É—â–µ–≥–æ –¥–ª—è –¥–µ—Ç–µ–π", type: "–ú–µ—á—Ç–∞", cost: 300000, income: 0, description: "–°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–π —à–∫–æ–ª—ã –¥–ª—è –¥–µ—Ç–µ–π", color: "gray", icon: "üè´" },
            35: { name: "–ö—Ä—É–≥–æ—Å–≤–µ—Ç–Ω–æ–µ –ø–ª–∞–≤–∞–Ω–∏–µ –Ω–∞ –ø–∞—Ä—É—Å–Ω–∏–∫–µ", type: "–ú–µ—á—Ç–∞", cost: 200000, income: 0, description: "–ö—Ä—É–≥–æ—Å–≤–µ—Ç–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –Ω–∞ –ø–∞—Ä—É—Å–Ω–æ–º —Å—É–¥–Ω–µ", color: "gray", icon: "‚õµ" },
            37: { name: "–ë–µ–ª–æ—Å–Ω–µ–∂–Ω–∞—è –Ø—Ö—Ç–∞", type: "–ú–µ—á—Ç–∞", cost: 300000, income: 0, description: "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ —Ä–æ—Å–∫–æ—à–Ω–æ–π –±–µ–ª–æ—Å–Ω–µ–∂–Ω–æ–π —è—Ö—Ç—ã", color: "gray", icon: "‚õµ" },
            42: { name: "–ë–µ–ª–æ—Å–Ω–µ–∂–Ω–∞—è –Ø—Ö—Ç–∞", type: "–ú–µ—á—Ç–∞", cost: 300000, income: 0, description: "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ —Ä–æ—Å–∫–æ—à–Ω–æ–π –±–µ–ª–æ—Å–Ω–µ–∂–Ω–æ–π —è—Ö—Ç—ã", color: "gray", icon: "‚õµ" },
            44: { name: "–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–æ–Ω–¥", type: "–ú–µ—á—Ç–∞", cost: 200000, income: 0, description: "–°–æ–∑–¥–∞–Ω–∏–µ –±–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Ñ–æ–Ω–¥–∞", color: "gray", icon: "üéóÔ∏è" },
            46: { name: "–ü–æ–ª—ë—Ç –≤ –∫–æ—Å–º–æ—Å", type: "–ú–µ—á—Ç–∞", cost: 250000, income: 0, description: "–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—á—Ç—ã –æ –∫–æ—Å–º–∏—á–µ—Å–∫–æ–º –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏", color: "gray", icon: "üöÄ" },
            48: { name: "–ö—Ä—É–≥–æ—Å–≤–µ—Ç–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ", type: "–ú–µ—á—Ç–∞", cost: 300000, income: 0, description: "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≤–æ–∫—Ä—É–≥ —Å–≤–µ—Ç–∞ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω", color: "gray", icon: "üåç" },

            // üü¢ –ë–ò–ó–ù–ï–° (21 –∫–ª–µ—Ç–∫–∞) - –°–ï–†–´–ï
            3: { name: "–ö–æ—Ñ–µ–π–Ω—è –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 100000, income: 3000, description: "–ü—Ä–∏–±—ã–ª—å–Ω—ã–π –±–∏–∑–Ω–µ—Å –≤ —Ü–µ–Ω—Ç—Ä–µ –≥–æ—Ä–æ–¥–∞ —Å –≤—ã—Å–æ–∫–∏–º —Ç—Ä–∞—Ñ–∏–∫–æ–º", color: "gray", icon: "‚òï" },
            5: { name: "–¶–µ–Ω—Ç—Ä –∑–¥–æ—Ä–æ–≤—å—è –∏ —Å–ø–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 270000, income: 5000, description: "–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä –∑–¥–æ—Ä–æ–≤—å—è –∏ —Å–ø–∞-—É—Å–ª—É–≥", color: "gray", icon: "üßò" },
            7: { name: "–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ–¥–ø–∏—Å–∫–∞)", type: "–ë–∏–∑–Ω–µ—Å", cost: 420000, income: 10000, description: "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–¥–ø–∏—Å–æ—á–Ω–æ–π –º–æ–¥–µ–ª—å—é", color: "gray", icon: "üì±" },
            9: { name: "–ê–≥–µ–Ω—Ç—Å—Ç–≤–æ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 160000, income: 4000, description: "–°–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –∞–≥–µ–Ω—Ç—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–π —Å—Ä–µ–¥–µ", color: "gray", icon: "üìä" },
            11: { name: "–ú–∏–Ω–∏-–æ—Ç–µ–ª—å/–±—É—Ç–∏–∫-–≥–æ—Å—Ç–∏–Ω–∏—Ü–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 200000, income: 5000, description: "–°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ–±–æ–ª—å—à–æ–≥–æ, –Ω–æ –ø—Ä–µ—Å—Ç–∏–∂–Ω–æ–≥–æ –æ—Ç–µ–ª—è", color: "gray", icon: "üè®" },
            13: { name: "–§—Ä–∞–Ω—à–∏–∑–∞ –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 320000, income: 8000, description: "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ —Ñ—Ä–∞–Ω—à–∏–∑—ã –∏–∑–≤–µ—Å—Ç–Ω–æ–π —Å–µ—Ç–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤", color: "gray", icon: "üçΩÔ∏è" },
            15: { name: "–ô–æ–≥–∞- –∏ –º–µ–¥–∏—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —Ü–µ–Ω—Ç—Ä", type: "–ë–∏–∑–Ω–µ—Å", cost: 170000, income: 4500, description: "–¶–µ–Ω—Ç—Ä –¥–ª—è –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è", color: "gray", icon: "üßò" },
            17: { name: "–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã/–±–∞—Ä–±–µ—Ä—à–æ–ø", type: "–ë–∏–∑–Ω–µ—Å", cost: 500000, income: 15000, description: "–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã –¥–ª—è –º—É–∂—á–∏–Ω –∏ –∂–µ–Ω—â–∏–Ω", color: "gray", icon: "üíá" },
            19: { name: "–°–µ—Ç—å –∞–≤—Ç–æ–º–æ–µ–∫ —Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è", type: "–ë–∏–∑–Ω–µ—Å", cost: 120000, income: 3000, description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞–≤—Ç–æ–º–æ–µ–∫", color: "gray", icon: "üöø" },
            21: { name: "–ü–æ—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ—Ç—Ä–∏—Ç-—Ü–µ–Ω—Ç—Ä", type: "–ë–∏–∑–Ω–µ—Å", cost: 500000, income: 0, description: "–°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Å—Ç–∞ –¥–ª—è –¥—É—Ö–æ–≤–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è –∏ –º–µ–¥–∏—Ç–∞—Ü–∏–π", color: "gray", icon: "üßò" },
            23: { name: "–°–µ—Ç—å –∞–≤—Ç–æ–º–æ–µ–∫ —Å–∞–º–æ–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è", type: "–ë–∏–∑–Ω–µ—Å", cost: 120000, income: 3500, description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∞–≤—Ç–æ–º–æ–µ–∫", color: "gray", icon: "üöø" },
            25: { name: "–ö—Ä—É–≥–æ—Å–≤–µ—Ç–Ω–æ–µ –ø–ª–∞–≤–∞–Ω–∏–µ –Ω–∞ –ø–∞—Ä—É—Å–Ω–∏–∫–µ", type: "–ë–∏–∑–Ω–µ—Å", cost: 300000, income: 0, description: "–ö—Ä—É–≥–æ—Å–≤–µ—Ç–Ω–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –Ω–∞ –ø–∞—Ä—É—Å–Ω–æ–º —Å—É–¥–Ω–µ", color: "gray", icon: "‚õµ" },
            27: { name: "–ö—É–ø–∏—Ç—å —á–∞—Å—Ç–Ω—ã–π —Å–∞–º–æ–ª—ë—Ç", type: "–ë–∏–∑–Ω–µ—Å", cost: 1000000, income: 0, description: "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–æ–∑–¥—É—à–Ω–æ–≥–æ —Å—É–¥–Ω–∞ –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π", color: "gray", icon: "‚úàÔ∏è" },
            29: { name: "–°—Ç–∞—Ç—å –º–∏—Ä–æ–≤—ã–º –ª–∏–¥–µ—Ä–æ–º –º–Ω–µ–Ω–∏–π", type: "–ë–∏–∑–Ω–µ—Å", cost: 1000000, income: 0, description: "–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≤–ª–∏—è—Ç–µ–ª—å–Ω–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏", color: "gray", icon: "üëë" },
            31: { name: "–ë–∏—Ä–∂–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 50000, income: "500,000$ (5-6)", description: "–†–∞–∑–æ–≤–æ –≤—ã–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è 500 000$ –µ—Å–ª–∏ –≤—ã–ø–∞–ª–æ 5 –∏–ª–∏ 6 –Ω–∞ –∫—É–±–∏–∫–µ", color: "gray", icon: "üìà" },
            33: { name: "–°–Ω—è—Ç—å –ø–æ–ª–Ω–æ–º–µ—Ç—Ä–∞–∂–Ω—ã–π —Ñ–∏–ª—å–º", type: "–ë–∏–∑–Ω–µ—Å", cost: 500000, income: 0, description: "–°–æ–∑–¥–∞–Ω–∏–µ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ñ–∏–ª—å–º–∞ –¥–ª—è —à–∏—Ä–æ–∫–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏", color: "gray", icon: "üé¨" },
            38: { name: "–§—Ä–∞–Ω—à–∏–∑–∞ '–ø–æ—Ç–æ–∫ –¥–µ–Ω–µ–≥'", type: "–ë–∏–∑–Ω–µ—Å", cost: 100000, income: 10000, description: "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ —Ñ—Ä–∞–Ω—à–∏–∑—ã –∏–≥—Ä—ã '–ü–æ—Ç–æ–∫ –¥–µ–Ω–µ–≥'", color: "gray", icon: "üéÆ" },
            43: { name: "–ü–µ–∫–∞—Ä–Ω—è —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π", type: "–ë–∏–∑–Ω–µ—Å", cost: 300000, income: 7000, description: "–°–æ–∑–¥–∞–Ω–∏–µ –ø–µ–∫–∞—Ä–Ω–∏ —Å —É—Å–ª—É–≥–æ–π –¥–æ—Å—Ç–∞–≤–∫–∏", color: "gray", icon: "ü•ñ" },
            45: { name: "–û–Ω–ª–∞–π–Ω-–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 200000, income: 5000, description: "–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –æ–Ω–ª–∞–π–Ω-–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è", color: "gray", icon: "üíª" },
            47: { name: "–°–µ—Ç—å —Ñ–∏—Ç–Ω–µ—Å-—Å—Ç—É–¥–∏–π", type: "–ë–∏–∑–Ω–µ—Å", cost: 750000, income: 20000, description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ç–∏ —Ñ–∏—Ç–Ω–µ—Å-—Å—Ç—É–¥–∏–π", color: "gray", icon: "üí™" },
            49: { name: "–ö–æ–≤–æ—Ä–∫–∏–Ω–≥-–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ", type: "–ë–∏–∑–Ω–µ—Å", cost: 500000, income: 10000, description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞", color: "gray", icon: "üè¢" },

            // üî¥ –ü–û–¢–ï–†–ò (5 –∫–ª–µ—Ç–æ–∫) - –°–ï–†–´–ï
            4: { name: "–ê—É–¥–∏—Ç", type: "–ü–æ—Ç–µ—Ä—è", cost: 0, income: 0, loss: "-50% –∞–∫—Ç–∏–≤–æ–≤", description: "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ –∞—É–¥–∏—Ç, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –±–∏–∑–Ω–µ—Å", color: "gray", icon: "‚ö†Ô∏è" },
            10: { name: "–ö—Ä–∞–∂–∞ 100% –Ω–∞–ª–∏—á–Ω—ã—Ö", type: "–ü–æ—Ç–µ—Ä—è", cost: 0, income: 0, loss: "-100% –Ω–∞–ª–∏—á–Ω—ã—Ö", description: "–ü–æ–ª–Ω–∞—è –ø–æ—Ç–µ—Ä—è –≤—Å–µ—Ö –Ω–∞–ª–∏—á–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤", color: "gray", icon: "ü¶π" },
            22: { name: "–†–∞–∑–≤–æ–¥", type: "–ü–æ—Ç–µ—Ä—è", cost: 0, income: 0, loss: "-50% –∞–∫—Ç–∏–≤–æ–≤", description: "–ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –Ω–∞ —Ä–∞–∑–≤–æ–¥, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ —Ñ–∏–Ω–∞–Ω—Å—ã", color: "gray", icon: "üíî" },
            34: { name: "–†–µ–π–¥–µ—Ä—Å–∫–∏–π –∑–∞—Ö–≤–∞—Ç", type: "–ü–æ—Ç–µ—Ä—è", cost: 0, income: 0, loss: "-100% –±–∏–∑–Ω–µ—Å–∞", description: "–í—ã —Ç–µ—Ä—è–µ—Ç–µ –±–∏–∑–Ω–µ—Å —Å –∫—Ä—É–ø–Ω—ã–º –¥–æ—Ö–æ–¥–æ–º", color: "gray", icon: "‚öîÔ∏è" },
            39: { name: "–°–∞–Ω–∫—Ü–∏–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –≤—Å–µ —Å—á–µ—Ç–∞", type: "–ü–æ—Ç–µ—Ä—è", cost: 0, income: 0, loss: "-100% —Å—á–µ—Ç–æ–≤", description: "–°–∞–Ω–∫—Ü–∏–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –≤—Å–µ—Ö –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Å—á–µ—Ç–æ–≤", color: "gray", icon: "üö´" },

            // üéóÔ∏è –ë–õ–ê–ì–û–¢–í–û–†–ò–¢–ï–õ–¨–ù–û–°–¢–¨ (1 –∫–ª–µ—Ç–∫–∞) - –°–ï–†–ê–Ø
            8: { name: "–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", type: "–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å", cost: 0, income: 0, description: "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–º–æ—á—å –Ω—É–∂–¥–∞—é—â–∏–º—Å—è –∏ –≤–Ω–µ—Å—Ç–∏ –≤–∫–ª–∞–¥ –≤ –æ–±—â–µ—Å—Ç–≤–æ", color: "gray", icon: "üéóÔ∏è" },

            // –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ö–õ–ï–¢–ö–ò - –°–ï–†–´–ï
            50: { name: "–°–æ–∑–¥–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –æ—Å—Ç—Ä–æ–≤", type: "–ú–µ—á—Ç–∞", cost: 2000000, income: 0, description: "–ü—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏–µ —á–∞—Å—Ç–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≤–∞ –¥–ª—è –æ—Ç–¥—ã—Ö–∞ –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π", color: "gray", icon: "üèùÔ∏è" },
            51: { name: "–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–∞—è –±–∏—Ä–∂–∞", type: "–ë–∏–∑–Ω–µ—Å", cost: 800000, income: 25000, description: "–°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã", color: "gray", icon: "‚Çø" }
        };

        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let currentPlayer = 1;
        let gameTimer = 120; // 2 –º–∏–Ω—É—Ç—ã –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
        let maxTimer = 120; // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —Ö–æ–¥–∞
        let timerInterval;
        let isRolling = false;
        let cellOwners = {}; // –í–ª–∞–¥–µ–ª—å—Ü—ã –∫–ª–µ—Ç–æ–∫
        let playerPositions = [0, 0, 0]; // –ü–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ –ø–æ–ª–µ (0 = –º–∞–ª—ã–π –∫—Ä—É–≥)
        let diceRolled = false; // –§–ª–∞–≥ –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–∞
        let turnTransitionTimeout; // –¢–∞–π–º–∞—É—Ç –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ —Ö–æ–¥–∞
        let warningSoundPlayed = false; // –§–ª–∞–≥ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            createOuterTrack();
            createInnerTrack();
            initializePlayerTokens(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–∏—à–∫–∏ –∏–≥—Ä–æ–∫–æ–≤
            loadGameData(); // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–≥—Ä—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
            startTimer();
            updateCurrentPlayer();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            setInterval(loadGameData, 5000); // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä—ã —Å —Å–µ—Ä–≤–µ—Ä–∞
        async function loadGameData() {
            try {
                const roomId = getRoomIdFromURL();
                if (!roomId) return;

                const user = localStorage.getItem('user');
                if (!user) return;
                
                const userData = JSON.parse(user);
                const response = await fetch(`/api/rooms/${roomId}?user_id=${userData.id}`);
                const data = await response.json();
                
                if (response.ok && data.game_data) {
                    // –ù–∞—Ö–æ–¥–∏–º –∏–Ω–¥–µ–∫—Å —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
                    const playerIndex = data.players.findIndex(p => p.user_id.toString() === userData.id);
                    
                    if (playerIndex !== -1 && data.game_data.player_balances) {
                        currentBalance = data.game_data.player_balances[playerIndex] || 10000;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤
                    if (data.game_data.transfers_history) {
                        transfersHistory = data.game_data.transfers_history;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏–∏ –∏–≥—Ä–æ–∫–æ–≤
                    if (data.game_data.player_positions) {
                        playerPositions = data.game_data.player_positions;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º UI
                    updateBankData();
                    updateTransfersHistory();
                }
            } catch (error) {
                console.error('Error loading game data:', error);
            }
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ ID –∫–æ–º–Ω–∞—Ç—ã –∏–∑ URL
        function getRoomIdFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('room');
        }

        // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
        function getCurrentPlayerIndex() {
            try {
                const user = localStorage.getItem('user');
                if (user) {
                    const userData = JSON.parse(user);
                    // –ù—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏–Ω–¥–µ–∫—Å –∏–≥—Ä–æ–∫–∞ –≤ –∫–æ–º–Ω–∞—Ç–µ
                    // –ü–æ–∫–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 0, –Ω–æ —ç—Ç–æ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏—Å–ø—Ä–∞–≤–∏—Ç—å
                    return 0;
                }
            } catch (error) {
                console.error('Error getting current player index:', error);
            }
            return 0;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏—à–µ–∫ –∏–≥—Ä–æ–∫–æ–≤ –≤ —Ü–µ–Ω—Ç—Ä–µ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –∫–ª–µ—Ç–∫–∏
        function initializePlayerTokens() {
            for (let i = 1; i <= 3; i++) {
                const playerToken = document.getElementById(`player${i}`);
                if (playerToken) {
                    // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Ñ–∏—à–∫—É –≤ —Ü–µ–Ω—Ç—Ä–µ –∫–ª–µ—Ç–∫–∏ 0 (—Å—Ç–∞—Ä—Ç)
                    const startCell = document.querySelector(`[data-cell="0"]`);
                    if (startCell) {
                        const cellRect = startCell.getBoundingClientRect();
                        const boardRect = document.querySelector('.game-board').getBoundingClientRect();
                        
                        const x = cellRect.left - boardRect.left + cellRect.width / 2;
                        const y = cellRect.top - boardRect.top + cellRect.height / 2;
                        
                        // –°–¥–≤–∏–≥–∞–µ–º —Ñ–∏—à–∫–∏, —á—Ç–æ–±—ã –æ–Ω–∏ –Ω–µ –Ω–∞–∫–ª–∞–¥—ã–≤–∞–ª–∏—Å—å –¥—Ä—É–≥ –Ω–∞ –¥—Ä—É–≥–∞
                        const offsetX = (i - 1) * 8; // 8px –º–µ–∂–¥—É —Ñ–∏—à–∫–∞–º–∏
                        const offsetY = (i - 1) * 8;
                        
                        playerToken.style.left = `${x + offsetX - 12}px`;
                        playerToken.style.top = `${y + offsetY - 12}px`;
                        playerToken.style.position = 'absolute';
                        playerToken.style.zIndex = '100';
                    }
                }
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ —Ç—Ä–µ–∫–∞ (51 –∫–≤–∞–¥—Ä–∞—Ç) - –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –ø–æ–ª–µ
        function createOuterTrack() {
            const outerSquares = document.getElementById('outerSquares');
            const colors = ['square-green', 'square-pink', 'square-yellow'];
            const icons = ['üìä', 'üí∞', 'üè†', '‚ù§Ô∏è', 'üöó', 'üéì', '‚òï', 'üîß', 'üë§', 'üéÅ', 'üí≥', 'üìà'];
            
            // –ö–≤–∞–¥—Ä–∞—Ç–Ω–æ–µ –ø–æ–ª–µ: 13 –∫–≤–∞–¥—Ä–∞—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥—É—é —Å—Ç–æ—Ä–æ–Ω—É
            const squaresPerSide = 13;
            const totalSquares = 51;
            
            for (let i = 1; i <= totalSquares; i++) {
                const square = document.createElement('div');
                square.className = `outer-square ${colors[(i - 1) % colors.length]}`;
                square.dataset.cellNumber = i;
                square.dataset.cell = i; // –î–æ–±–∞–≤–ª—è–µ–º –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏—à–µ–∫
                square.onclick = () => showCellInfo(i);
                
                // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –∫–≤–∞–¥—Ä–∞—Ç–Ω–æ–º—É –ø–µ—Ä–∏–º–µ—Ç—Ä—É
                let x, y;
                
                if (i <= squaresPerSide) {
                    // –í–µ—Ä—Ö–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞
                    x = 5 + (i - 1) * (90 / (squaresPerSide - 1));
                    y = 5;
                } else if (i <= squaresPerSide * 2) {
                    // –ü—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞
                    x = 95;
                    y = 5 + (i - squaresPerSide - 1) * (90 / (squaresPerSide - 1));
                } else if (i <= squaresPerSide * 3) {
                    // –ù–∏–∂–Ω—è—è —Å—Ç–æ—Ä–æ–Ω–∞ (—Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ)
                    x = 95 - ((i - squaresPerSide * 2 - 1) * (90 / (squaresPerSide - 1)));
                    y = 95;
                } else {
                    // –õ–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ (—Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö)
                    x = 5;
                    y = 95 - ((i - squaresPerSide * 3 - 1) * (90 / (squaresPerSide - 1)));
                }
                
                square.style.left = `${x}%`;
                square.style.top = `${y}%`;
                square.style.transform = 'translate(-50%, -50%)';
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ü–∏—Ñ—Ä—É –≤ —É–≥–æ–ª
                const number = document.createElement('div');
                number.className = 'square-number';
                number.textContent = i;
                square.appendChild(number);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä—É–ø–Ω—É—é –∏–∫–æ–Ω–∫—É
                const icon = document.createElement('div');
                icon.className = 'square-icon';
                icon.textContent = icons[(i - 1) % icons.length];
                square.appendChild(icon);
                
                outerSquares.appendChild(square);
            }
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Ç—Ä–µ–∫–∞ (24 –∫–≤–∞–¥—Ä–∞—Ç–∞) - —Ä–æ–≤–Ω—ã–π –∫—Ä—É–≥
        function createInnerTrack() {
            const innerSquares = document.getElementById('innerSquares');
            const colors = ['square-light-blue', 'square-pink', 'square-orange', 'square-yellow', 'square-green'];
            const icons = ['üìä', 'üí∞', 'üè†', '‚ù§Ô∏è', 'üë§', 'üéÅ'];
            
            for (let i = 1; i <= 24; i++) {
                const square = document.createElement('div');
                square.className = `inner-square ${colors[(i - 1) % colors.length]}`;
                square.dataset.cell = i - 1; // –î–æ–±–∞–≤–ª—è–µ–º data-cell –¥–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∏—à–µ–∫ (0-23)
                
                // –†–æ–≤–Ω–æ–µ –∫—Ä—É–≥–æ–≤–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
                const angle = (i - 1) * (360 / 24) * (Math.PI / 180);
                let radius = 38.5; // —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–¥–∏—É—Å –¥–ª—è —Ä–æ–≤–Ω–æ–≥–æ –∫—Ä—É–≥–∞ (—É–≤–µ–ª–∏—á–µ–Ω –Ω–∞ 10%)
                
                // –ü–æ–¥–Ω–∏–º–∞–µ–º –∫–ª–µ—Ç–∫—É 1 –≤—ã—à–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö
                if (i === 1) {
                    radius = 35; // –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–¥–∏—É—Å –¥–ª—è –∫–ª–µ—Ç–∫–∏ 1
                }
                
                const x = 50 + radius * Math.cos(angle);
                const y = 50 + radius * Math.sin(angle);
                
                square.style.left = `${x}%`;
                square.style.top = `${y}%`;
                square.style.transform = 'translate(-50%, -50%)';
                square.onclick = () => showCellInfo(i - 1); // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
                
                // –î–æ–±–∞–≤–ª—è–µ–º —Ü–∏—Ñ—Ä—É –≤ —É–≥–æ–ª
                const number = document.createElement('div');
                number.className = i >= 11 ? 'square-number bottom-left' : 'square-number';
                number.textContent = i;
                square.appendChild(number);
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫—Ä—É–ø–Ω—É—é –∏–∫–æ–Ω–∫—É
                const icon = document.createElement('div');
                icon.className = 'square-icon';
                icon.textContent = icons[(i - 1) % icons.length];
                square.appendChild(icon);
                
                innerSquares.appendChild(square);
            }
        }

        // –ë—Ä–æ—Å–æ–∫ –∫—É–±–∏–∫–∞
        function rollDice() {
            if (isRolling) return;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ —Ö–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
            const urlParams = new URLSearchParams(window.location.search);
            const roomId = urlParams.get('room');
            const currentUser = JSON.parse(localStorage.getItem('user'));
            
            if (roomId && currentUser) {
                // –ó–¥–µ—Å—å –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —ç—Ç–æ —Ö–æ–¥ —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
                // –ü–æ–∫–∞ —á—Ç–æ —Ä–∞–∑—Ä–µ—à–∞–µ–º –≤—Å–µ–º
            }
            
            isRolling = true;
            diceRolled = true;
            const dice = document.getElementById('dice');
            const rollDiceBtn = document.getElementById('rollDiceBtn');
            
            rollDiceBtn.disabled = true;
            dice.classList.add('rolling');
            
            // –ù–∞—á–∏–Ω–∞–µ–º —Å –∑–Ω–∞–∫–∞ $
            dice.textContent = '$';
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è –∑–Ω–∞–∫–∞ $
            let rollCount = 0;
            const rollInterval = setInterval(() => {
                const randomValue = Math.floor(Math.random() * 6) + 1;
                dice.textContent = randomValue;
                rollCount++;
                
                if (rollCount >= 15) {
                    clearInterval(rollInterval);
                    const finalValue = Math.floor(Math.random() * 6) + 1;
                    dice.textContent = finalValue;
                    dice.classList.remove('rolling');
                    
                    // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∏—à–∫–∏
                    movePlayerToken(finalValue);
                    
                    // –ß–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –±—Ä–æ—Å–∫–∞ –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è "–ü–µ—Ä–µ—Ö–æ–¥ —Ö–æ–¥–∞"
                    turnTransitionTimeout = setTimeout(() => {
                        updateRollButton();
                    }, 10000);
                }
            }, 100);
        }

        function updateRollButton() {
            const rollDiceBtn = document.getElementById('rollDiceBtn');
            if (diceRolled) {
                rollDiceBtn.innerHTML = '<span>‚è≠Ô∏è</span><span>–ü–µ—Ä–µ—Ö–æ–¥ —Ö–æ–¥–∞</span>';
                rollDiceBtn.disabled = false;
                rollDiceBtn.onclick = () => {
                    nextPlayer();
                };
            }
        }

        // –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ñ–∏—à–∫–∏ –∏–≥—Ä–æ–∫–∞
        function movePlayerToken(steps) {
            const playerToken = document.getElementById(`player${currentPlayer}`);
            if (!playerToken) return;
            
            playerToken.classList.add('moving');
            
            // –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é
            const currentPosition = playerPositions[currentPlayer] || 0;
            let newPosition;
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –Ω–∞ –∫–∞–∫–æ–º –∫—Ä—É–≥–µ –Ω–∞—Ö–æ–¥–∏–º—Å—è
            if (currentPosition < 24) {
                // –ú–∞–ª—ã–π –∫—Ä—É–≥ (0-23)
                newPosition = (currentPosition + steps) % 24;
            } else {
                // –ë–æ–ª—å—à–æ–π –∫—Ä—É–≥ (24-74)
                newPosition = (currentPosition + steps) % 51;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é
            playerPositions[currentPlayer] = newPosition;
            
            // –ù–∞—Ö–æ–¥–∏–º —Ü–µ–ª–µ–≤—É—é –∫–ª–µ—Ç–∫—É
            const targetCell = document.querySelector(`[data-cell="${newPosition}"]`);
            if (targetCell) {
                const cellRect = targetCell.getBoundingClientRect();
                const boardRect = document.querySelector('.game-board').getBoundingClientRect();
                
                // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–æ–ª—è
                const x = cellRect.left - boardRect.left + cellRect.width / 2;
                const y = cellRect.top - boardRect.top + cellRect.height / 2;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –¥—Ä—É–≥–∏–µ —Ñ–∏—à–∫–∏ –Ω–∞ —ç—Ç–æ–π –∫–ª–µ—Ç–∫–µ
                const existingTokens = targetCell.querySelectorAll('.player-token');
                let offsetX = 0;
                let offsetY = 0;
                
                if (existingTokens.length > 0) {
                    // –°–¥–≤–∏–≥–∞–µ–º –Ω–∞ 15% –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∫–ª–µ—Ç–∫–∏
                    const offset = cellRect.width * 0.15;
                    offsetX = (existingTokens.length % 2 === 0) ? offset : -offset;
                    offsetY = (existingTokens.length > 1) ? offset : 0;
                }
                
                // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —Ñ–∏—à–∫—É –≤ —Ü–µ–Ω—Ç—Ä –∫–ª–µ—Ç–∫–∏
                playerToken.style.left = `${x + offsetX - 12}px`; // 12px - –ø–æ–ª–æ–≤–∏–Ω–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∏—à–∫–∏
                playerToken.style.top = `${y + offsetY - 12}px`;
                playerToken.style.position = 'absolute';
                playerToken.style.zIndex = '100'; // –í—ã—Å–æ–∫–∏–π z-index –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–≤–µ—Ä—Ö –∫–ª–µ—Ç–æ–∫
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–µ—Ç–∫–µ
                setTimeout(() => {
                    showCellInfo(newPosition);
                }, 500);
            }
            
            // –£–±–∏—Ä–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            setTimeout(() => {
                playerToken.classList.remove('moving');
            }, 1000);
        }

        // –°–º–µ–Ω–∞ –∏–≥—Ä–æ–∫–∞
        function nextPlayer() {
            // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å —Ç–µ–∫—É—â–µ–≥–æ –∏–≥—Ä–æ–∫–∞
            const currentPlayerItem = document.getElementById(`player${currentPlayer}Item`);
            if (currentPlayerItem) {
                currentPlayerItem.classList.remove('current');
            }
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∏–≥—Ä–æ–∫—É
            currentPlayer = currentPlayer === 3 ? 1 : currentPlayer + 1;
            
            // –í—ã–¥–µ–ª—è–µ–º –Ω–æ–≤–æ–≥–æ –∏–≥—Ä–æ–∫–∞
            const newPlayerItem = document.getElementById(`player${currentPlayer}Item`);
            if (newPlayerItem) {
                newPlayerItem.classList.add('current');
            }
            
            updateCurrentPlayer();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –±—Ä–æ—Å–∫–∞ –∫—É–±–∏–∫–∞
            resetRollButton();
            
            resetTimer();
        }

        function resetRollButton() {
            const rollDiceBtn = document.getElementById('rollDiceBtn');
            rollDiceBtn.innerHTML = '<span>üé≤</span><span>–ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫</span>';
            rollDiceBtn.onclick = rollDice;
            rollDiceBtn.disabled = false;
            diceRolled = false;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –∏–≥—Ä–æ–∫–µ
        function updateCurrentPlayer() {
            const players = [
                { name: '–ò–≥—Ä–æ–∫ 1', role: '–í—Ä–∞—á', balance: '$10000' },
                { name: '–ò–≥—Ä–æ–∫ 2', role: '–ò–Ω–≤–µ—Å—Ç–æ—Ä', balance: '$15000' },
                { name: '–ò–≥—Ä–æ–∫ 3', role: '–§–∏–Ω–∞–Ω—Å–∏—Å—Ç', balance: '$20000' }
            ];
            
            const currentPlayerData = players[currentPlayer - 1];
            const currentPlayerInfo = document.getElementById('currentPlayerInfo');
            
            currentPlayerInfo.innerHTML = `
                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                    <div class="player-avatar player-${currentPlayer}" style="width: 20px; height: 20px; font-size: 10px;">${currentPlayer}</div>
                    <div>
                        <div style="font-weight: bold;">${currentPlayerData.name}</div>
                        <div style="font-size: 12px; color: #94a3b8;">${currentPlayerData.role}</div>
                    </div>
                </div>
                <div style="font-size: 14px; font-weight: bold; color: #10b981;">${currentPlayerData.balance}</div>
            `;
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –±–∞–Ω–∫–∞
        function openBank() {
            window.open('/bank', '_blank');
        }

        // –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª–µ–π –±–∞–Ω–∫–∞
        function viewDetails() {
            alert('–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–Ω–∫–µ:\n\n‚Ä¢ –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: $3,000\n‚Ä¢ –î–æ—Ö–æ–¥—ã: $6,000\n‚Ä¢ –†–∞—Å—Ö–æ–¥—ã: $2,500\n‚Ä¢ PAYDAY: $3,500/–º–µ—Å\n\n–î–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –±–∞–Ω–∫.');
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ –±–∞–Ω–∫–∞
        function updateBankBalance(balance) {
            const bankBalanceElement = document.getElementById('bankBalance');
            if (bankBalanceElement) {
                bankBalanceElement.textContent = `$${balance.toLocaleString()}`;
            }
        }

        // –¢–∞–π–º–µ—Ä —Ö–æ–¥–∞
        function startTimer() {
            gameTimer = maxTimer;
            diceRolled = false;
            warningSoundPlayed = false;
            clearTimeout(turnTransitionTimeout);
            
            timerInterval = setInterval(() => {
                gameTimer--;
                updateTimerDisplay();
                
                if (gameTimer <= 0) {
                    clearInterval(timerInterval);
                    nextPlayer();
                    startTimer(); // –ó–∞–ø—É—Å–∫ –Ω–æ–≤–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞
                }
            }, 1000);
        }

        function resetTimer() {
            gameTimer = maxTimer;
            diceRolled = false;
            warningSoundPlayed = false;
            clearTimeout(turnTransitionTimeout);
            updateTimerDisplay();
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(gameTimer / 60);
            const seconds = gameTimer % 60;
            const percentage = (gameTimer / maxTimer) * 100;
            
            const timerFill = document.getElementById('timerFill');
            const timerText = document.getElementById('timerText');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
            timerText.textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')} / 2:00`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
            timerFill.style.width = `${percentage}%`;
            
            // –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è
            timerFill.classList.remove('warning', 'danger');
            
            if (gameTimer <= 20) {
                // –ü–æ—Å–ª–µ–¥–Ω–∏–µ 20 —Å–µ–∫—É–Ω–¥ - –∫—Ä–∞—Å–Ω—ã–π + —Å–∏–≥–Ω–∞–ª
                timerFill.classList.add('danger');
                if (!warningSoundPlayed) {
                    playWarningSound();
                    warningSoundPlayed = true;
                }
            } else if (gameTimer <= 60) {
                // –í—Ç–æ—Ä–∞—è –º–∏–Ω—É—Ç–∞ - –∂–µ–ª—Ç—ã–π
                timerFill.classList.add('warning');
            }
            // –ü–µ—Ä–≤–∞—è –º–∏–Ω—É—Ç–∞ - –∑–µ–ª–µ–Ω—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
        }

        function playWarningSound() {
            // –°–æ–∑–¥–∞–µ–º –∑–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                oscillator.type = 'sine';
                
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                
                oscillator.start(audioContext.currentTime);
                oscillator.stop(audioContext.currentTime + 0.1);
            } catch (error) {
                console.log('Audio not supported:', error);
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        document.getElementById('rollDiceBtn').addEventListener('click', rollDice);

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–∞–ª—å–Ω—ã–º –æ–∫–Ω–æ–º –∫–ª–µ—Ç–∫–∏
        function showCellInfo(cellNumber) {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, –∏–∑ –∫–∞–∫–æ–≥–æ –∫—Ä—É–≥–∞ –∫–ª–µ—Ç–∫–∞
            let cell;
            if (cellNumber < 24) {
                // –ú–∞–ª—ã–π –∫—Ä—É–≥
                cell = innerCellData[cellNumber];
            } else {
                // –ë–æ–ª—å—à–æ–π –∫—Ä—É–≥
                cell = cellData[cellNumber];
            }
            
            if (!cell) return;

            document.getElementById('cellTitle').textContent = cell.name;
            document.getElementById('cellType').textContent = cell.type;
            document.getElementById('cellCost').textContent = cell.cost > 0 ? `$${cell.cost.toLocaleString()}` : '–ë–µ—Å–ø–ª–∞—Ç–Ω–æ';
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–∞ –∏–ª–∏ –ø–æ—Ç–µ—Ä—å
            if (cell.loss) {
                document.getElementById('cellIncome').textContent = cell.loss;
            } else if (cell.income > 0) {
                document.getElementById('cellIncome').textContent = `$${cell.income.toLocaleString()}/–º–µ—Å`;
            } else if (typeof cell.income === 'string') {
                document.getElementById('cellIncome').textContent = cell.income;
            } else if (cell.income < 0) {
                document.getElementById('cellIncome').textContent = `$${cell.income.toLocaleString()}/–º–µ—Å`;
            } else {
                document.getElementById('cellIncome').textContent = '–ù–µ—Ç –¥–æ—Ö–æ–¥–∞';
            }
            
            document.getElementById('cellOwner').textContent = cellOwners[cellNumber] ? `–ò–≥—Ä–æ–∫ ${cellOwners[cellNumber]}` : '–°–≤–æ–±–æ–¥–Ω–æ';
            document.getElementById('cellDescription').textContent = cell.description;

            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–∫—É–ø–∫–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫–ª–µ—Ç–∫–∞ –Ω–µ –∫—É–ø–ª–µ–Ω–∞ –∏ –∏–º–µ–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å
            const buyButton = document.getElementById('buyButton');
            if (cell.cost > 0 && !cellOwners[cellNumber]) {
                buyButton.style.display = 'inline-block';
                buyButton.onclick = () => buyCell(cellNumber);
            } else {
                buyButton.style.display = 'none';
            }

            document.getElementById('cellModal').style.display = 'block';
        }

        function closeCellModal() {
            document.getElementById('cellModal').style.display = 'none';
        }

        function buyCell(cellNumber) {
            const cell = cellData[cellNumber];
            if (!cell || cell.cost <= 0 || cellOwners[cellNumber]) return;

            // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–∫—É–ø–∫–∏ –∫–ª–µ—Ç–∫–∏
            // –ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–ª–∞–Ω—Å–∞ –∏–≥—Ä–æ–∫–∞, —Å–ø–∏—Å–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ –∏ —Ç.–¥.
            cellOwners[cellNumber] = currentPlayer;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞
            document.getElementById('cellOwner').textContent = `–ò–≥—Ä–æ–∫ ${currentPlayer}`;
            document.getElementById('buyButton').style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª–µ—Ç–∫–∏
            updateCellDisplay(cellNumber);
            
            alert(`–ò–≥—Ä–æ–∫ ${currentPlayer} –∫—É–ø–∏–ª –∫–ª–µ—Ç–∫—É "${cell.name}" –∑–∞ $${cell.cost.toLocaleString()}`);
        }

        function updateCellDisplay(cellNumber) {
            const square = document.querySelector(`[data-cell-number="${cellNumber}"]`);
            if (!square) return;

            const owner = cellOwners[cellNumber];
            if (owner) {
                // –î–æ–±–∞–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤–ª–∞–¥–µ–ª—å—Ü–∞
                square.style.border = '2px solid #10b981';
                square.style.boxShadow = '0 0 10px rgba(16, 185, 129, 0.5)';
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
        window.onclick = function(event) {
            const modal = document.getElementById('cellModal');
            if (event.target === modal) {
                closeCellModal();
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –∏–≥—Ä—ã
        function exitGame() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã? –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω.')) {
                // –ü–æ–ª—É—á–∞–µ–º ID –∫–æ–º–Ω–∞—Ç—ã –∏–∑ URL
                const urlParams = new URLSearchParams(window.location.search);
                const roomId = urlParams.get('room');
                
                if (roomId) {
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –≤ –ª–æ–±–±–∏
                    window.location.href = '/lobby';
                } else {
                    // –ï—Å–ª–∏ –Ω–µ—Ç ID –∫–æ–º–Ω–∞—Ç—ã, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                    window.location.href = '/';
                }
            }
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã
        async function loadRoomPlayers() {
            try {
                const urlParams = new URLSearchParams(window.location.search);
                const roomId = urlParams.get('room');
                
                if (!roomId) return;
                
                // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const currentUser = JSON.parse(localStorage.getItem('user'));
                if (!currentUser || !currentUser.id) return;
                
                const response = await fetch(`/api/rooms/${roomId}?user_id=${currentUser.id}`);
                const roomData = await response.json();
                
                if (response.ok && roomData.players) {
                    updatePlayersList(roomData.players);
                }
            } catch (error) {
                console.error('Error loading room players:', error);
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–≥—Ä–æ–∫–æ–≤
        function updatePlayersList(players) {
            const playersList = document.querySelector('.players-list');
            if (!playersList) return;
            
            // –û—á–∏—â–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–ø–∏—Å–æ–∫
            playersList.innerHTML = '';
            
            players.forEach((player, index) => {
                const playerItem = document.createElement('div');
                playerItem.className = `player-item ${index === 0 ? 'current' : ''}`;
                playerItem.id = `player${index + 1}Item`;
                
                playerItem.innerHTML = `
                    <div class="player-avatar player-${index + 1}">${index + 1}</div>
                    <div class="player-info">
                        <div class="player-name">${player.name}</div>
                        <div class="player-role">${player.profession || '–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å'}</div>
                    </div>
                    <div class="player-status">
                        <span>‚úì</span>
                        <span>–ì–æ—Ç–æ–≤</span>
                    </div>
                `;
                
                playersList.appendChild(playerItem);
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –∏–≥—Ä–æ–∫–µ
            updateCurrentPlayerInfo(players[0]);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –∏–≥—Ä–æ–∫–µ
        function updateCurrentPlayerInfo(player) {
            const currentPlayerInfo = document.getElementById('currentPlayerInfo');
            if (!currentPlayerInfo || !player) return;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –≤ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
            currentBalance = player.balance || 10000;
            
            currentPlayerInfo.innerHTML = `
                <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                    <div class="player-avatar player-1" style="width: 20px; height: 20px; font-size: 10px;">1</div>
                    <div>
                        <div style="font-weight: bold;">${player.name}</div>
                        <div style="font-size: 12px; color: #94a3b8;">${player.profession || '–ü—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª—å'}</div>
                    </div>
                </div>
                <div style="font-size: 14px; font-weight: bold; color: #10b981;">$${currentBalance.toLocaleString()}</div>
            `;
        }

        // –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
        let transfersHistory = [];
        let currentBalance = 10000;
        let totalIncome = 6000;
        let totalExpenses = 2500;
        let monthlyIncome = 3500;
        let currentCredit = 0;
        let maxCredit = 10000;

        async function openBank() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞
            await loadGameData();
            
            const bankModal = document.getElementById('bankModal');
            bankModal.style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
            updateBankData();
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞
            loadRecipients();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏—Å—Ç–æ—Ä–∏—é –ø–µ—Ä–µ–≤–æ–¥–æ–≤
            updateTransfersHistory();
        }

        function closeBankModal() {
            document.getElementById('bankModal').style.display = 'none';
        }

        function closeBankModalOnBackdrop(event) {
            if (event.target === event.currentTarget) {
                closeBankModal();
            }
        }

        function updateBankData() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
            document.getElementById('currentBalance').textContent = `$${currentBalance.toLocaleString()}`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—É—é —Å–≤–æ–¥–∫—É
            document.getElementById('totalIncome').textContent = `$${totalIncome.toLocaleString()}`;
            document.getElementById('totalExpenses').textContent = `$${totalExpenses.toLocaleString()}`;
            document.getElementById('monthlyIncome').textContent = `$${monthlyIncome.toLocaleString()}/–º–µ—Å`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫—Ä–µ–¥–∏—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
            document.getElementById('currentCredit').textContent = `$${currentCredit.toLocaleString()}`;
            document.getElementById('maxCredit').textContent = `$${maxCredit.toLocaleString()}`;
        }

        async function loadRecipients() {
            try {
                const roomId = getRoomIdFromURL();
                if (!roomId) return;

                const user = localStorage.getItem('user');
                if (!user) return;
                
                const userData = JSON.parse(user);
                const response = await fetch(`/api/rooms/${roomId}?user_id=${userData.id}`);
                const data = await response.json();
                
                const recipientSelect = document.getElementById('recipientSelect');
                recipientSelect.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä–æ–∫–∞...</option>';
                
                if (response.ok && data.players) {
                    data.players.forEach((player, index) => {
                        // –ù–µ –¥–æ–±–∞–≤–ª—è–µ–º —Å–µ–±—è –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–π
                        if (player.user_id.toString() !== userData.id) {
                            const option = document.createElement('option');
                            option.value = index;
                            option.textContent = player.name || `–ò–≥—Ä–æ–∫ ${index + 1}`;
                            recipientSelect.appendChild(option);
                        }
                    });
                }
            } catch (error) {
                console.error('Error loading recipients:', error);
            }
        }

        async function processTransfer() {
            const recipientIndex = document.getElementById('recipientSelect').value;
            const amount = parseInt(document.getElementById('transferAmount').value);
            
            if (!recipientIndex || !amount) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—É—á–∞—Ç–µ–ª—è –∏ –≤–≤–µ–¥–∏—Ç–µ —Å—É–º–º—É');
                return;
            }
            
            if (amount <= 0) {
                alert('–°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0');
                return;
            }
            
            if (amount > currentBalance) {
                alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ');
                return;
            }
            
            // –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø–æ–ª—É—á–∞—Ç–µ–ª—è
            const recipientSelect = document.getElementById('recipientSelect');
            const recipientName = recipientSelect.options[recipientSelect.selectedIndex].textContent;
            
            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                const urlParams = new URLSearchParams(window.location.search);
                const roomId = urlParams.get('room');
                const currentUser = JSON.parse(localStorage.getItem('user'));
                
                if (!roomId || !currentUser) {
                    alert('–û—à–∏–±–∫–∞: –Ω–µ –Ω–∞–π–¥–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è');
                    return;
                }
                
                const response = await fetch(`/api/rooms/${roomId}/transfer`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        user_id: currentUser.id,
                        recipient_index: parseInt(recipientIndex),
                        amount: amount
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                    currentBalance = data.new_balance;
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –≤ –∏—Å—Ç–æ—Ä–∏—é
                    const transfer = {
                        recipient: recipientName,
                        amount: amount,
                        date: new Date().toLocaleString('ru-RU'),
                        type: 'outgoing',
                        status: 'completed'
                    };
                    transfersHistory.unshift(transfer);
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
                    updateBankData();
                    updateTransfersHistory();
                    
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                    document.getElementById('recipientSelect').value = '';
                    document.getElementById('transferAmount').value = '';
                    
                    alert(`–ü–µ—Ä–µ–≤–æ–¥ $${amount.toLocaleString()} –∏–≥—Ä–æ–∫—É ${recipientName} –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!`);
                } else {
                    console.error('Transfer failed:', response.status, data);
                    alert(data.message || `–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ (${response.status})`);
                }
            } catch (error) {
                console.error('Transfer error:', error);
                alert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º');
            }
        }

        function resetTransferForm() {
            document.getElementById('recipientSelect').value = '';
            document.getElementById('transferAmount').value = '';
        }

        function updateTransfersHistory() {
            const historyContainer = document.getElementById('transfersHistory');
            const historyCount = document.getElementById('historyCount');
            
            if (transfersHistory.length === 0) {
                historyContainer.innerHTML = '<div class="no-transfers">–ò—Å—Ç–æ—Ä–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –ø—É—Å—Ç–∞</div>';
                historyCount.textContent = '0';
                return;
            }
            
            historyCount.textContent = transfersHistory.length;
            
            historyContainer.innerHTML = transfersHistory.map(transfer => `
                <div class="transfer-item">
                    <div class="transfer-icon">üìÑ</div>
                    <div class="transfer-details">
                        <div class="transfer-description">–ü–µ—Ä–µ–≤–æ–¥ –∏–≥—Ä–æ–∫—É: ${transfer.recipient}</div>
                        <div class="transfer-direction">–ò–≥—Ä–æ–∫ -> ${transfer.recipient}</div>
                        <div class="transfer-date">${transfer.date}</div>
                    </div>
                    <div class="transfer-amount negative">-$${transfer.amount.toLocaleString()}</div>
                    <div class="transfer-status ${transfer.status}">${transfer.status === 'completed' ? '–ó–∞–≤–µ—Ä—à–µ–Ω–æ' : '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ'}</div>
                </div>
            `).join('');
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            initGame();
            loadRoomPlayers();
        });
    </script>
</body>
</html>
